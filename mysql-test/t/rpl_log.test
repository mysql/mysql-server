source include/master-slave.inc;
eval_result; #result depends on some server specific params

#clean up slave binlogs
connection slave;
slave stop;
reset master;
reset slave;

connection master;
reset master;
drop table if exists t1;
create table t1(n int not null auto_increment primary key);
insert into t1 values (NULL);
drop table t1;
create table t1 (word char(20) not null);
load data infile '../../std_data/words.dat' into table t1;
drop table t1;
show binlog events;
show binlog events from 79 limit 1;
show binlog events from 79 limit 2;
show binlog events from 79 limit 2,1;
flush logs;
create table t1 (n int);
insert into t1 values (1);
drop table t1;
show binlog events;
show binlog events in 'master-bin.002';
show master logs;
save_master_pos;
connection slave;
let $VERSION=`select version()`;
slave start;
sync_with_master;
show master logs;
show binlog events in 'slave-bin.001' from 4;
show binlog events in 'slave-bin.002' from 4;
show slave status;
show new master for slave with master_log_file='master-bin.001' and
 master_log_pos=4 and master_log_seq=1 and master_server_id=1;
show new master for slave with master_log_file='master-bin.001' and
 master_log_pos=79 and master_log_seq=2 and master_server_id=1;
show new master for slave with master_log_file='master-bin.001' and
 master_log_pos=311 and master_log_seq=6 and master_server_id=1;
show new master for slave with master_log_file='master-bin.002' and
 master_log_pos=4 and master_log_seq=1 and master_server_id=1;
show new master for slave with master_log_file='master-bin.002' and
 master_log_pos=137 and master_log_seq=3 and master_server_id=1;

