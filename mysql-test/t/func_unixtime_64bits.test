--source include/have_64bits_time.inc
--source include/func_unixtime.inc

--echo # -- New tests added for 64 bits UNIXTIME

--echo # Maximum value of 64 bits time
SET time_zone = UTC;
SELECT FROM_UNIXTIME(32536771199);
SELECT UNIX_TIMESTAMP('3001-01-18 23:59:59');
--echo Overflow
SELECT FROM_UNIXTIME(32536771200);
SELECT UNIX_TIMESTAMP('3001-01-19 00:00:00');

--echo "Explicit timezone indication: different code path than UTC"
SET time_zone = "+00:00";
--echo Overflow
SELECT FROM_UNIXTIME(32536771200);
SELECT UNIX_TIMESTAMP('3001-01-19 00:00:00');

SET time_zone = "+01:00";
--echo # East of UTC
SELECT FROM_UNIXTIME(32536771199);
SELECT UNIX_TIMESTAMP('3001-01-19 00:59:59');
--echo Overflow
SELECT FROM_UNIXTIME(32536771200);
SELECT UNIX_TIMESTAMP('3001-01-19 01:00:00');

SET time_zone = "Japan";
SELECT FROM_UNIXTIME(32536771199);
SELECT UNIX_TIMESTAMP("3001-01-19 08:59:59");
--echo # Overflow:
SELECT UNIX_TIMESTAMP("3001-01-19 09:00:00");

SET time_zone = "-01:00";
--echo # West of UTC
SELECT FROM_UNIXTIME(32536771199);
SELECT UNIX_TIMESTAMP('3001-01-18 22:59:59');
--echo # Overflow:
SELECT FROM_UNIXTIME(32536771200);
SELECT UNIX_TIMESTAMP('3001-01-18 23:59:59');

SET TIME_ZONE = "US/Pacific";
SELECT FROM_UNIXTIME(32536771199);
SELECT UNIX_TIMESTAMP('3001-01-18 15:59:59');
--echo # Overflow:
SELECT UNIX_TIMESTAMP('3001-01-18 16:00:00');

--echo Extreme values
SELECT FROM_UNIXTIME(9223372036854775807);
SELECT FROM_UNIXTIME(-9223372036854775808);
SELECT FROM_UNIXTIME(9223372036854775808);
# decimal max
SELECT FROM_UNIXTIME(99999999999999999999999999999999999999999999999999999999999999999);

SET time_zone = DEFAULT;
