#
# Only run this test with a compiled in but disabled
# engine
#
disable_query_log;
--require r/true.require
select support = 'NO' as `TRUE` from information_schema.engines where engine = 'FEDERATED';
enable_query_log;


#
# Test for handler type, will select MyISAM and print a warning
# about that - since NDB is disabled
#
--ERROR ER_UNKNOWN_STORAGE_ENGINE
create table t1 (id int) engine=FEDERATED;
--ERROR ER_UNKNOWN_STORAGE_ENGINE
alter table t1 engine=FEDERATED;
--ERROR ER_BAD_TABLE_ERROR
drop table t1;

#
# Bug#29263 disabled storage engines omitted in SHOW ENGINES
#
SELECT ENGINE, SUPPORT FROM INFORMATION_SCHEMA.ENGINES WHERE ENGINE='FEDERATED';
SELECT PLUGIN_NAME, PLUGIN_STATUS FROM INFORMATION_SCHEMA.PLUGINS WHERE
PLUGIN_NAME='FEDERATED';
