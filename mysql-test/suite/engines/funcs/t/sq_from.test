# This line and the line below is a temporary line for tests that do not need MyISAM in future, but need to be kept for tests that need it.
--source include/have_myisam.inc

--disable_warnings
DROP TABLE IF EXISTS t1;
--enable_warnings
--disable_warnings
DROP TABLE IF EXISTS t2;
--enable_warnings
CREATE TABLE t1 (c1 INT, c2 CHAR(100),c3 FLOAT);
INSERT INTO t1 VALUES (null,null,0.0);
INSERT INTO t1 VALUES (1,'',1.0);
INSERT INTO t1 VALUES (2,'abcde',2.0);
INSERT INTO t1 VALUES (100,'abcdefghij',3.0);
CREATE TABLE t2 (c1 INT, c2 VARCHAR(100));
INSERT INTO t2 VALUES (1,'abcde');
INSERT INTO t2 VALUES (2,'abcde');
SELECT sb1,sb2,sb3 FROM (SELECT c1 AS sb1, c2 AS sb2, c3*2 AS sb3
FROM t1) AS sb WHERE sb1 > 1;
SELECT AVG(sum_column1) FROM (SELECT SUM(c1) AS sum_column1 FROM t1
 GROUP BY c1) AS t1;
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1 (c1 INT, c2 VARCHAR(100),c3 FLOAT);
INSERT INTO t1 VALUES (null,null,0.0);
INSERT INTO t1 VALUES (1,'',1.0);
INSERT INTO t1 VALUES (2,'abcde',2.0);
INSERT INTO t1 VALUES (100,'abcdefghij',3.0);
CREATE TABLE t2 (c1 INT, c2 VARCHAR(100));
INSERT INTO t2 VALUES (1,'abcde');
INSERT INTO t2 VALUES (2,'abcde');
SELECT sb1,sb2,sb3 FROM (SELECT c1 AS sb1, c2 AS sb2, c3*2 AS sb3
FROM t1) AS sb WHERE sb1 > 1;
SELECT AVG(sum_column1) FROM (SELECT SUM(c1) AS sum_column1 FROM t1
 GROUP BY c1) AS t1;
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1 (c1 INT, c2 BINARY(100),c3 FLOAT);
INSERT INTO t1 VALUES (null,null,0.0);
INSERT INTO t1 VALUES (1,'',1.0);
INSERT INTO t1 VALUES (2,'abcde',2.0);
INSERT INTO t1 VALUES (100,'abcdefghij',3.0);
CREATE TABLE t2 (c1 INT, c2 VARCHAR(100));
INSERT INTO t2 VALUES (1,'abcde');
INSERT INTO t2 VALUES (2,'abcde');
SELECT sb1,sb2,sb3 FROM (SELECT c1 AS sb1, c2 AS sb2, c3*2 AS sb3
FROM t1) AS sb WHERE sb1 > 1;
SELECT AVG(sum_column1) FROM (SELECT SUM(c1) AS sum_column1 FROM t1
 GROUP BY c1) AS t1;
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1 (c1 INT, c2 VARBINARY(100),c3 FLOAT);
INSERT INTO t1 VALUES (null,null,0.0);
INSERT INTO t1 VALUES (1,'',1.0);
INSERT INTO t1 VALUES (2,'abcde',2.0);
INSERT INTO t1 VALUES (100,'abcdefghij',3.0);
CREATE TABLE t2 (c1 INT, c2 VARCHAR(100));
INSERT INTO t2 VALUES (1,'abcde');
INSERT INTO t2 VALUES (2,'abcde');
SELECT sb1,sb2,sb3 FROM (SELECT c1 AS sb1, c2 AS sb2, c3*2 AS sb3
FROM t1) AS sb WHERE sb1 > 1;
SELECT AVG(sum_column1) FROM (SELECT SUM(c1) AS sum_column1 FROM t1
 GROUP BY c1) AS t1;
DROP TABLE t1;
DROP TABLE t2;

