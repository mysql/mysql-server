DROP TABLE IF EXISTS t1;
SET sql_mode='NO_ENGINE_SUBSTITUTION';
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
SET TIME_ZONE="+03:00";
CREATE TABLE t1(c1 DATE NULL UNIQUE);
SET TIMESTAMP=1171346973;
INSERT INTO t1 (c1) VALUES(NOW());
Warnings:
Note	1265	Data truncated for column 'c1' at row 1
INSERT INTO t1 (c1) VALUES(ADDTIME(NOW(),'1 01:01:01'));
Warnings:
Note	1265	Data truncated for column 'c1' at row 1
INSERT INTO t1 (c1) VALUES(NOW());
ERROR 23000: Duplicate entry '2007-02-13' for key 'c1'
SELECT * FROM t1;
c1
2007-02-13
2007-02-14
DROP TABLE t1;
CREATE TABLE t1(c1 YEAR NULL UNIQUE);
INSERT INTO t1 (c1) VALUES(1999);
INSERT INTO t1 (c1) VALUES(2000);
INSERT INTO t1 (c1) VALUES(1999);
ERROR 23000: Duplicate entry '1999' for key 'c1'
SELECT * FROM t1;
c1
1999
2000
DROP TABLE t1;
CREATE TABLE t1(c1 TIME NULL UNIQUE);
SET TIMESTAMP=1171346973;
INSERT INTO t1 (c1) VALUES(NOW());
INSERT INTO t1 (c1) VALUES(ADDTIME(NOW(),'1 01:01:01'));
INSERT INTO t1 (c1) VALUES(NOW());
ERROR 23000: Duplicate entry '09:09:33' for key 'c1'
SELECT * FROM t1;
c1
09:09:33
10:10:34
DROP TABLE t1;
CREATE TABLE t1(c1 YEAR NULL UNIQUE);
INSERT INTO t1 (c1) VALUES(1999);
INSERT INTO t1 (c1) VALUES(2000);
INSERT INTO t1 (c1) VALUES(1999);
ERROR 23000: Duplicate entry '1999' for key 'c1'
SELECT * FROM t1;
c1
1999
2000
DROP TABLE t1;
CREATE TABLE t1(c1 DATETIME NULL UNIQUE);
SET TIMESTAMP=1171346973;
INSERT INTO t1 (c1) VALUES(NOW());
INSERT INTO t1 (c1) VALUES(ADDTIME(NOW(),'1 01:01:01'));
INSERT INTO t1 (c1) VALUES(NOW());
ERROR 23000: Duplicate entry '2007-02-13 09:09:33' for key 'c1'
SELECT * FROM t1;
c1
2007-02-13 09:09:33
2007-02-14 10:10:34
DROP TABLE t1;
CREATE TABLE t1(c1 YEAR NULL UNIQUE);
INSERT INTO t1 (c1) VALUES(1999);
INSERT INTO t1 (c1) VALUES(2000);
INSERT INTO t1 (c1) VALUES(1999);
ERROR 23000: Duplicate entry '1999' for key 'c1'
SELECT * FROM t1;
c1
1999
2000
DROP TABLE t1;
CREATE TABLE t1(c1 TIMESTAMP NULL UNIQUE);
SET TIMESTAMP=1171346973;
INSERT INTO t1 (c1) VALUES(NOW());
INSERT INTO t1 (c1) VALUES(ADDTIME(NOW(),'1 01:01:01'));
INSERT INTO t1 (c1) VALUES(NOW());
ERROR 23000: Duplicate entry '2007-02-13 09:09:33' for key 'c1'
SELECT * FROM t1;
c1
2007-02-13 09:09:33
2007-02-14 10:10:34
DROP TABLE t1;
CREATE TABLE t1(c1 YEAR NULL UNIQUE);
INSERT INTO t1 (c1) VALUES(1999);
INSERT INTO t1 (c1) VALUES(2000);
INSERT INTO t1 (c1) VALUES(1999);
ERROR 23000: Duplicate entry '1999' for key 'c1'
SELECT * FROM t1;
c1
1999
2000
DROP TABLE t1;
SET TIME_ZONE= @@global.time_zone;
SET sql_mode=default;
