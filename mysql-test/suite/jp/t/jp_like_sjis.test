-- source include/have_innodb.inc
-- source include/have_bdb.inc
--character_set sjis
--disable_warnings
drop table if exists `sP`;
drop table if exists `sQ`;
drop table if exists `sR`;
drop table if exists `sS`;
drop table if exists `sT`;
drop table if exists `sU`;
drop table if exists `sV`;
drop table if exists `sW`;
drop table if exists `sX`;
drop table if exists `sPO`;
drop table if exists `sPP`;
drop table if exists `sPQ`;
--enable_warnings

#
# Test LIKE pattern matching using Japanese characters in sjis encoding
#

SET NAMES sjis;
SET character_set_database = sjis;

CREATE TABLE `sP` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = innodb;
CREATE TABLE `sQ` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = innodb;
CREATE TABLE `sR` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = innodb;
CREATE TABLE `sS` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = myisam;
CREATE TABLE `sT` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = myisam;
CREATE TABLE `sU` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = myisam;
CREATE TABLE `sV` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = heap;
CREATE TABLE `sW` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = heap;
CREATE TABLE `sX` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = heap;
CREATE TABLE `sPO` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = bdb;
CREATE TABLE `sPP` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = bdb;
CREATE TABLE `sPQ` (`bP` char(20), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = bdb;

#Load the following data in each table
# jisx0201 hankaku-katakana data
# jisx0208 data

--disable_query_log
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0201_sjis.dat' INTO TABLE `sP`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis.dat' INTO TABLE `sQ`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis2.dat' INTO TABLE `sR`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0201_sjis.dat' INTO TABLE `sS`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis.dat' INTO TABLE `sT`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis2.dat' INTO TABLE `sU`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0201_sjis.dat' INTO TABLE `sV`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis.dat' INTO TABLE `sW`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis2.dat' INTO TABLE `sX`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0201_sjis.dat' INTO TABLE `sPO`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis.dat' INTO TABLE `sPP`;
--eval LOAD DATA LOCAL INFILE '$MYSQL_TEST_DIR/suite/jp/std_data/jisx0208_sjis2.dat' INTO TABLE `sPQ`;
--enable_query_log

#InnoDB
SELECT * FROM `sP` WHERE `bP` LIKE ' %';
SELECT * FROM `sP` WHERE `bP` LIKE '% %';
SELECT * FROM `sP` WHERE `bP` LIKE '% ';
SELECT * FROM `sP` WHERE `bP` LIKE '%';
SELECT * FROM `sP` WHERE `bP` LIKE '%%';
SELECT * FROM `sP` WHERE `bP` LIKE '%';
SELECT * FROM `sP` WHERE `bP` LIKE '%';
SELECT * FROM `sP` WHERE `bP` LIKE '%%';
SELECT * FROM `sP` WHERE `bP` LIKE '%';
SELECT * FROM `sQ` WHERE `bP` LIKE '@%';
SELECT * FROM `sQ` WHERE `bP` LIKE '%@%';
SELECT * FROM `sQ` WHERE `bP` LIKE '%@';
SELECT * FROM `sQ` WHERE `bP` LIKE '%';
SELECT * FROM `sQ` WHERE `bP` LIKE '%%';
SELECT * FROM `sQ` WHERE `bP` LIKE '%';
SELECT * FROM `sQ` WHERE `bP` LIKE 'E%';
SELECT * FROM `sQ` WHERE `bP` LIKE '%E%';
SELECT * FROM `sQ` WHERE `bP` LIKE '%E';
SELECT * FROM `sR` WHERE `bP` LIKE '\%';
SELECT * FROM `sR` WHERE `bP` LIKE '%\%';
SELECT * FROM `sR` WHERE `bP` LIKE '%\';
SELECT * FROM `sR` WHERE `bP` LIKE '\\\\\\\\\\\\\\\\\\\\%';
SELECT * FROM `sR` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\%';
SELECT * FROM `sR` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\';

#MyISAM
SELECT * FROM `sS` WHERE `bP` LIKE ' %';
SELECT * FROM `sS` WHERE `bP` LIKE '% %';
SELECT * FROM `sS` WHERE `bP` LIKE '% ';
SELECT * FROM `sS` WHERE `bP` LIKE '%';
SELECT * FROM `sS` WHERE `bP` LIKE '%%';
SELECT * FROM `sS` WHERE `bP` LIKE '%';
SELECT * FROM `sS` WHERE `bP` LIKE '%';
SELECT * FROM `sS` WHERE `bP` LIKE '%%';
SELECT * FROM `sS` WHERE `bP` LIKE '%';
SELECT * FROM `sT` WHERE `bP` LIKE '@%';
SELECT * FROM `sT` WHERE `bP` LIKE '%@%';
SELECT * FROM `sT` WHERE `bP` LIKE '%@';
SELECT * FROM `sT` WHERE `bP` LIKE '%';
SELECT * FROM `sT` WHERE `bP` LIKE '%%';
SELECT * FROM `sT` WHERE `bP` LIKE '%';
SELECT * FROM `sT` WHERE `bP` LIKE 'E%';
SELECT * FROM `sT` WHERE `bP` LIKE '%E%';
SELECT * FROM `sT` WHERE `bP` LIKE '%E';
SELECT * FROM `sU` WHERE `bP` LIKE '\%';
SELECT * FROM `sU` WHERE `bP` LIKE '%\%';
SELECT * FROM `sU` WHERE `bP` LIKE '%\';
SELECT * FROM `sU` WHERE `bP` LIKE '\\\\\\\\\\\\\\\\\\\\%';
SELECT * FROM `sU` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\%';
SELECT * FROM `sU` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\';

#Heap
SELECT * FROM `sV` WHERE `bP` LIKE ' %';
SELECT * FROM `sV` WHERE `bP` LIKE '% %';
SELECT * FROM `sV` WHERE `bP` LIKE '% ';
SELECT * FROM `sV` WHERE `bP` LIKE '%';
SELECT * FROM `sV` WHERE `bP` LIKE '%%';
SELECT * FROM `sV` WHERE `bP` LIKE '%';
SELECT * FROM `sV` WHERE `bP` LIKE '%';
SELECT * FROM `sV` WHERE `bP` LIKE '%%';
SELECT * FROM `sV` WHERE `bP` LIKE '%';
SELECT * FROM `sW` WHERE `bP` LIKE '@%';
SELECT * FROM `sW` WHERE `bP` LIKE '%@%';
SELECT * FROM `sW` WHERE `bP` LIKE '%@';
SELECT * FROM `sW` WHERE `bP` LIKE '%';
SELECT * FROM `sW` WHERE `bP` LIKE '%%';
SELECT * FROM `sW` WHERE `bP` LIKE '%';
SELECT * FROM `sW` WHERE `bP` LIKE 'E%';
SELECT * FROM `sW` WHERE `bP` LIKE '%E%';
SELECT * FROM `sW` WHERE `bP` LIKE '%E';
SELECT * FROM `sX` WHERE `bP` LIKE '\%';
SELECT * FROM `sX` WHERE `bP` LIKE '%\%';
SELECT * FROM `sX` WHERE `bP` LIKE '%\';
SELECT * FROM `sX` WHERE `bP` LIKE '\\\\\\\\\\\\\\\\\\\\%';
SELECT * FROM `sX` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\%';
SELECT * FROM `sX` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\';
#BDB
SELECT * FROM `sPO` WHERE `bP` LIKE ' %';
SELECT * FROM `sPO` WHERE `bP` LIKE '% %';
SELECT * FROM `sPO` WHERE `bP` LIKE '% ';
SELECT * FROM `sPO` WHERE `bP` LIKE '%';
SELECT * FROM `sPO` WHERE `bP` LIKE '%%';
SELECT * FROM `sPO` WHERE `bP` LIKE '%';
#SELECT * FROM `sPO` WHERE `bP` LIKE '%';
#SELECT * FROM `sPO` WHERE `bP` LIKE '%%';
SELECT * FROM `sPO` WHERE `bP` LIKE '%';
SELECT * FROM `sPP` WHERE `bP` LIKE '@%';
SELECT * FROM `sPP` WHERE `bP` LIKE '%@%';
SELECT * FROM `sPP` WHERE `bP` LIKE '%@';
SELECT * FROM `sPP` WHERE `bP` LIKE '%';
SELECT * FROM `sPP` WHERE `bP` LIKE '%%';
SELECT * FROM `sPP` WHERE `bP` LIKE '%';
#SELECT * FROM `sPP` WHERE `bP` LIKE 'E%';
#SELECT * FROM `sPP` WHERE `bP` LIKE '%E%';
#SELECT * FROM `sPP` WHERE `bP` LIKE '%E';
SELECT * FROM `sPQ` WHERE `bP` LIKE '\%';
SELECT * FROM `sPQ` WHERE `bP` LIKE '%\%';
SELECT * FROM `sPQ` WHERE `bP` LIKE '%\';
#SELECT * FROM `sPQ` WHERE `bP` LIKE '\\\\\\\\\\\\\\\\\\\\%';
#SELECT * FROM `sPQ` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\%';
#SELECT * FROM `sPQ` WHERE `bP` LIKE '%\\\\\\\\\\\\\\\\\\\\';

DROP TABLE `sP`;
DROP TABLE `sQ`;
DROP TABLE `sR`;
DROP TABLE `sS`;
DROP TABLE `sT`;
DROP TABLE `sU`;
DROP TABLE `sV`;
DROP TABLE `sW`;
DROP TABLE `sX`;
DROP TABLE `sPO`;
DROP TABLE `sPP`;
DROP TABLE `sPQ`;
