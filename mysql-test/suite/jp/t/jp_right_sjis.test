--source include/have_sjis.inc
--source include/have_innodb.inc
--character_set sjis
--disable_warnings
drop table if exists `sP`;
drop table if exists `sQ`;
drop table if exists `sR`;
drop table if exists `sS`;
drop table if exists `sT`;
drop table if exists `sU`;
drop table if exists `sV`;
drop table if exists `sW`;
drop table if exists `sX`;
--enable_warnings

#
# Test RIGHT() function with Japanese character in sjis encoding
#

SET NAMES sjis;
SET character_set_database = sjis;

CREATE TABLE `sP` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = innodb;
CREATE TABLE `sQ` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = innodb;
CREATE TABLE `sR` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = innodb;
CREATE TABLE `sS` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = myisam;
CREATE TABLE `sT` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = myisam;
CREATE TABLE `sU` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = myisam;
CREATE TABLE `sV` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = MEMORY;
CREATE TABLE `sW` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = MEMORY;
CREATE TABLE `sX` (`bP` char(5), INDEX(`bP`)) DEFAULT CHARSET = sjis engine = MEMORY;

INSERT INTO `sP` VALUES (''),(''),(''),(''),(''),('');
INSERT INTO `sQ` VALUES (''),(''),(''),(''),(''),('');
INSERT INTO `sR` VALUES ('\\\\\'),('\\\\'),('\\\'),('\\'),('\'),('');
INSERT INTO `sS` VALUES (''),(''),(''),(''),(''),('');
INSERT INTO `sT` VALUES (''),(''),(''),(''),(''),('');
INSERT INTO `sU` VALUES ('\\\\\'),('\\\\'),('\\\'),('\\'),('\'),('');
INSERT INTO `sV` VALUES (''),(''),(''),(''),(''),('');
INSERT INTO `sW` VALUES (''),(''),(''),(''),(''),('');
INSERT INTO `sX` VALUES ('\\\\\'),('\\\\'),('\\\'),('\\'),('\'),('');

#InnoDB
SELECT `bP`, RIGHT(`bP`,0) FROM `sP`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sP`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sP`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sP`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sP`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sP`;
SELECT `bP`, RIGHT(`bP`,0) FROM `sQ`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sQ`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sQ`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sQ`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sQ`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sQ`;
SELECT `bP`, RIGHT(`bP`,0) FROM `sR`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sR`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sR`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sR`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sR`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sR`;

#MyISAM
SELECT `bP`, RIGHT(`bP`,0) FROM `sS`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sS`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sS`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sS`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sS`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sS`;
SELECT `bP`, RIGHT(`bP`,0) FROM `sT`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sT`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sT`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sT`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sT`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sT`;
SELECT `bP`, RIGHT(`bP`,0) FROM `sU`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sU`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sU`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sU`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sU`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sU`;

#MEMORY
SELECT `bP`, RIGHT(`bP`,0) FROM `sV`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sV`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sV`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sV`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sV`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sV`;
SELECT `bP`, RIGHT(`bP`,0) FROM `sW`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sW`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sW`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sW`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sW`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sW`;
SELECT `bP`, RIGHT(`bP`,0) FROM `sX`;
SELECT `bP`, RIGHT(`bP`,1) FROM `sX`;
SELECT `bP`, RIGHT(`bP`,2) FROM `sX`;
SELECT `bP`, RIGHT(`bP`,3) FROM `sX`;
SELECT `bP`, RIGHT(`bP`,4) FROM `sX`;
SELECT `bP`, RIGHT(`bP`,5) FROM `sX`;

DROP TABLE `sP`;
DROP TABLE `sQ`;
DROP TABLE `sR`;
DROP TABLE `sS`;
DROP TABLE `sT`;
DROP TABLE `sU`;
DROP TABLE `sV`;
DROP TABLE `sW`;
DROP TABLE `sX`;
