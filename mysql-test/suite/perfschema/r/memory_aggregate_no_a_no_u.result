Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
Warnings:
Warning	1287	Using GRANT for creating new user is deprecated and will be removed in future release. Create new user with CREATE USER statement.
Warnings:
Warning	1287	Using GRANT for creating new user is deprecated and will be removed in future release. Create new user with CREATE USER statement.
Warnings:
Warning	1287	Using GRANT for creating new user is deprecated and will be removed in future release. Create new user with CREATE USER statement.
Warnings:
Warning	1287	Using GRANT for creating new user is deprecated and will be removed in future release. Create new user with CREATE USER statement.
Warnings:
Warning	3090	Changing sql mode 'NO_AUTO_CREATE_USER' is deprecated. It will be removed in a future release.
show global status like "performance_schema_memory_classes_lost";
Variable_name	Value
Performance_schema_memory_classes_lost	0
"================== Step 1 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	1
"================== con1 connected =================="
"================== Step 2 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	2	2
set GLOBAL query_cache_size=1000*1024;
Warnings:
Warning	1287	'@@query_cache_size' is deprecated and will be removed in a future release.
select get_lock("marker_1", 10);
get_lock("marker_1", 10)
1
select release_lock("marker_1");
release_lock("marker_1")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con1 marker =================="
"================== Step 3 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	4
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7141
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	4
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	7141
HIGH_NUMBER_OF_BYTES_USED	7141
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1040384
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1040384
HIGH_NUMBER_OF_BYTES_USED	1040384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	4
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7141
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	4
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	7141
HIGH_NUMBER_OF_BYTES_USED	7141
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	2	2
"================== con2 connected =================="
"================== Step 4 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	4
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7141
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	4
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	7141
HIGH_NUMBER_OF_BYTES_USED	7141
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1040384
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1040384
HIGH_NUMBER_OF_BYTES_USED	1040384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	4
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7141
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	4
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	7141
HIGH_NUMBER_OF_BYTES_USED	7141
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	3
set GLOBAL query_cache_size=2000*1024;
Warnings:
Warning	1287	'@@query_cache_size' is deprecated and will be removed in a future release.
select get_lock("marker_2", 10);
get_lock("marker_2", 10)
1
select release_lock("marker_2");
release_lock("marker_2")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con2 marker =================="
"================== Step 5 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	4
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	544
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	544
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	7
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14144
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	7
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	14144
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	3104768
SUM_NUMBER_OF_BYTES_FREE	1040384
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	2064384
HIGH_NUMBER_OF_BYTES_USED	2064384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	4
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	544
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	544
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	7
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14144
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	7
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	14144
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	3
truncate table performance_schema.memory_summary_by_thread_by_event_name;
"================== MEMORY_BY_THREAD truncated =================="
"================== Step 5b =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	4
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	544
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	544
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	7
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14144
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	7
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	14144
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	3104768
SUM_NUMBER_OF_BYTES_FREE	1040384
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	2064384
HIGH_NUMBER_OF_BYTES_USED	2064384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	4
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	544
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	544
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	7
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14144
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	7
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	14144
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	3
"================== con3 connected =================="
"================== Step 6 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	4
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	544
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	544
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	7
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14144
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	7
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	14144
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	3104768
SUM_NUMBER_OF_BYTES_FREE	1040384
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	2064384
HIGH_NUMBER_OF_BYTES_USED	2064384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	4
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	544
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	544
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	7
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14144
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	7
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	14144
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	4	4
set GLOBAL query_cache_size=500*1024;
Warnings:
Warning	1287	'@@query_cache_size' is deprecated and will be removed in a future release.
select get_lock("marker_3", 10);
get_lock("marker_3", 10)
1
select release_lock("marker_3");
release_lock("marker_3")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con3 marker =================="
"================== Step 7 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	816
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	768
HIGH_NUMBER_OF_BYTES_USED	784
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	10
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21147
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	10
HIGH_COUNT_USED	10
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	21147
HIGH_NUMBER_OF_BYTES_USED	21147
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	9
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	3633152
SUM_NUMBER_OF_BYTES_FREE	3104768
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	528384
HIGH_NUMBER_OF_BYTES_USED	2064384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	816
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	768
HIGH_NUMBER_OF_BYTES_USED	784
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	10
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21147
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	10
HIGH_COUNT_USED	10
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	21147
HIGH_NUMBER_OF_BYTES_USED	21147
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	4	4
"================== con4/con5 (both user4) connected =================="
"================== Step 8 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	816
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	768
HIGH_NUMBER_OF_BYTES_USED	784
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	10
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21147
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	10
HIGH_COUNT_USED	10
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	21147
HIGH_NUMBER_OF_BYTES_USED	21147
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	9
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	3633152
SUM_NUMBER_OF_BYTES_FREE	3104768
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	528384
HIGH_NUMBER_OF_BYTES_USED	2064384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	816
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	4
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	768
HIGH_NUMBER_OF_BYTES_USED	784
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	10
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21147
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	10
HIGH_COUNT_USED	10
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	21147
HIGH_NUMBER_OF_BYTES_USED	21147
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	6	6
set GLOBAL query_cache_size=4000*1024;
Warnings:
Warning	1287	'@@query_cache_size' is deprecated and will be removed in a future release.
select get_lock("marker_4", 10);
get_lock("marker_4", 10)
1
select release_lock("marker_4");
release_lock("marker_4")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
select get_lock("marker_5", 10);
get_lock("marker_5", 10)
1
select release_lock("marker_5");
release_lock("marker_5")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con4/con5 marker =================="
"================== Step 9 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	5
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1280
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	16
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	35153
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	5
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1280
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	16
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	35153
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	6	6
"================== con1/con5 disconnected =================="
"================== Step 10 =================="
call dump_thread();
username	user1
status	not found
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	256
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	256
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	256
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	7
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	592
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	768
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	1
CURRENT_COUNT_USED	10
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	21147
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	7
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	592
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	768
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	1
CURRENT_COUNT_USED	10
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	21147
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	4	6
"================== con2 disconnected =================="
"================== Step 11 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	8
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	848
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	21009
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	8
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	848
LOW_COUNT_USED	0
CURRENT_COUNT_USED	2
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	512
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	21009
LOW_COUNT_USED	1
CURRENT_COUNT_USED	7
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	14144
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	6
"================== con3 disconnected =================="
"================== Step 12 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	272
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	272
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1104
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	12
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	28012
LOW_COUNT_USED	1
CURRENT_COUNT_USED	4
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	7141
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1104
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	256
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	12
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	28012
LOW_COUNT_USED	1
CURRENT_COUNT_USED	4
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	7141
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	2	6
"================== con4 disconnected =================="
"================== Step 13 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_thread_by_event_name;
"================== MEMORY_BY_THREAD truncated =================="
"================== Step 14 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_account_by_event_name;
"================== MEMORY_BY_ACCOUNT truncated =================="
"================== Step 15 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_user_by_event_name;
"================== MEMORY_BY_USER truncated =================="
"================== Step 16 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_host_by_event_name;
"================== MEMORY_BY_HOST truncated =================="
"================== Step 17 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	12
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	7745536
SUM_NUMBER_OF_BYTES_FREE	3633152
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	10
COUNT_FREE	10
SUM_NUMBER_OF_BYTES_ALLOC	1360
SUM_NUMBER_OF_BYTES_FREE	1360
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	8
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	1328
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	16
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35153
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	16
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	35153
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_global_by_event_name;
"================== MEMORY_GLOBAL truncated =================="
"================== Step 18 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4112384
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	4112384
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.accounts;
"================== ACCOUNTS truncated =================="
"================== Step 19 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4112384
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	4112384
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.users;
"================== USERS truncated =================="
"================== Step 20 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4112384
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	4112384
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.hosts;
"================== HOSTS truncated =================="
"================== Step 21 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4112384
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	4112384
CURRENT_NUMBER_OF_BYTES_USED	4112384
HIGH_NUMBER_OF_BYTES_USED	4112384
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	138
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	138
CURRENT_NUMBER_OF_BYTES_USED	138
HIGH_NUMBER_OF_BYTES_USED	138
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	1
Warnings:
Warning	1287	'@@query_cache_size' is deprecated and will be removed in a future release.
