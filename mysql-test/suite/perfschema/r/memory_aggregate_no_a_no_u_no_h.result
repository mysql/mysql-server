show global status like "performance_schema_memory_classes_lost";
Variable_name	Value
Performance_schema_memory_classes_lost	0
"================== Step 1 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con1 connected =================="
"================== Step 2 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
select get_lock("marker_1", 10);
get_lock("marker_1", 10)
1
select release_lock("marker_1");
release_lock("marker_1")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con1 marker =================="
"================== Step 3 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con2 connected =================="
"================== Step 4 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
select get_lock("marker_2", 10);
get_lock("marker_2", 10)
1
select release_lock("marker_2");
release_lock("marker_2")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con2 marker =================="
"================== Step 5 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14198
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14198
HIGH_NUMBER_OF_BYTES_USED	14198
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate table performance_schema.memory_summary_by_thread_by_event_name;
"================== MEMORY_BY_THREAD truncated =================="
"================== Step 5b =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14198
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14198
HIGH_NUMBER_OF_BYTES_USED	14198
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con3 connected =================="
"================== Step 6 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14198
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14198
HIGH_NUMBER_OF_BYTES_USED	14198
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
select get_lock("marker_3", 10);
get_lock("marker_3", 10)
1
select release_lock("marker_3");
release_lock("marker_3")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con3 marker =================="
"================== Step 7 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	9
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21297
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	9
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21297
HIGH_NUMBER_OF_BYTES_USED	21297
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con4/con5 (both user4) connected =================="
"================== Step 8 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	9
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21297
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	9
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21297
HIGH_NUMBER_OF_BYTES_USED	21297
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
select get_lock("marker_4", 10);
get_lock("marker_4", 10)
1
select release_lock("marker_4");
release_lock("marker_4")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
select get_lock("marker_5", 10);
get_lock("marker_5", 10)
1
select release_lock("marker_5");
release_lock("marker_5")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con4/con5 marker =================="
"================== Step 9 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	15
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	35495
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con1/con5 disconnected =================="
"================== Step 10 =================="
call dump_thread();
username	user1
status	not found
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7099
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	14198
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21297
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con2 disconnected =================="
"================== Step 11 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	21297
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14198
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con3 disconnected =================="
"================== Step 12 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7099
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	7099
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	12
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	28396
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7099
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
"================== con4 disconnected =================="
"================== Step 13 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	35495
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.memory_summary_by_thread_by_event_name;
"================== MEMORY_BY_THREAD truncated =================="
"================== Step 14 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	35495
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.memory_summary_by_account_by_event_name;
"================== MEMORY_BY_ACCOUNT truncated =================="
"================== Step 15 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	35495
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.memory_summary_by_user_by_event_name;
"================== MEMORY_BY_USER truncated =================="
"================== Step 16 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	35495
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.memory_summary_by_host_by_event_name;
"================== MEMORY_BY_HOST truncated =================="
"================== Step 17 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35495
SUM_NUMBER_OF_BYTES_FREE	35495
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35495
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.memory_summary_global_by_event_name;
"================== MEMORY_GLOBAL truncated =================="
"================== Step 18 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.accounts;
"================== ACCOUNTS truncated =================="
"================== Step 19 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.users;
"================== USERS truncated =================="
"================== Step 20 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
truncate performance_schema.hosts;
"================== HOSTS truncated =================="
"================== Step 21 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
execute dump_memory_global;
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
