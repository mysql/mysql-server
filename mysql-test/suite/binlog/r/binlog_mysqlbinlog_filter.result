RESET MASTER;
call mtr.add_suppression("Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT.");
CREATE TABLE foo (i int, j int, bar int auto_increment, unique key (bar))
engine= innodb;
SET autocommit= 0;
INSERT INTO foo (i, j) VALUES (Rand(), @2);
COMMIT;
DROP TABLE foo;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Query	#	#	use `mtr`; INSERT INTO test_suppressions (pattern) VALUES ( NAME_CONST('pattern',_utf8mb4'Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT.' COLLATE 'utf8mb4_0900_ai_ci'))
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	use `test`; CREATE TABLE foo (i int, j int, bar int auto_increment, unique key (bar))
engine= innodb
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Intvar	#	#	INSERT_ID=1
master-bin.000001	#	RAND	#	#	rand_seed1=<seed 1>,rand_seed2=<seed 2>
master-bin.000001	#	User var	#	#	@`2`=NULL
master-bin.000001	#	Query	#	#	use `test`; INSERT INTO foo (i, j) VALUES (Rand(), @2)
master-bin.000001	#	Xid	#	#	COMMIT /* XID */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `foo` /* generated by server */
# Search for occurrences of SET INSERT_ID in the output from mysqlbinlog
# Search for occurrences of RAND in the output from mysqlbinlog
# Search for occurrences of USER_VAR in the output from mysqlbinlog
- Occurrences: 0
- Occurrences: 0
- Occurrences: 0
