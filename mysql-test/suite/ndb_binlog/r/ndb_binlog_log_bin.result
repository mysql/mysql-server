drop table if exists t1,t2,t3;
reset master;
drop table if exists t1,t2,t3;
reset master;
set SQL_LOG_BIN=0;
create database mysqltest;
use mysqltest;
create table t1 (a int key, b int) engine=ndb;
create table t2 (a int key, b int) engine=ndb;
insert into t1 values (1,1);
alter table t1 add c int;
Warnings:
Warning	1478	Converted FIXED field 'c' to DYNAMIC to enable online ADD COLUMN
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
reset master;
use mysqltest;
insert into t2 values (1,1);
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
binlog.000001	#	Query	#	#	BEGIN
binlog.000001	#	Table_map	#	#	table_id: # (mysqltest.t2)
binlog.000001	#	Table_map	#	#	table_id: # (mysql.ndb_apply_status)
binlog.000001	#	Write_rows	#	#	table_id: #
binlog.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
binlog.000001	#	Query	#	#	COMMIT
reset master;
use mysqltest;
drop table t1;
drop table t2;
create table t1 (d int key, e int) engine=ndb;
create table t2 (d int key, e int) engine=ndb;
insert into t1 values (1,1);
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
binlog.000001	#	Query	#	#	BEGIN
binlog.000001	#	Table_map	#	#	table_id: # (mysqltest.t2)
binlog.000001	#	Table_map	#	#	table_id: # (mysql.ndb_apply_status)
binlog.000001	#	Write_rows	#	#	table_id: #
binlog.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
binlog.000001	#	Query	#	#	COMMIT
binlog.000001	#	Query	#	#	use `mysqltest`; DROP TABLE `t1` /* generated by server */
binlog.000001	#	Query	#	#	use `mysqltest`; DROP TABLE `t2` /* generated by server */
binlog.000001	#	Query	#	#	use `mysqltest`; create table t1 (d int key, e int) engine=ndb
binlog.000001	#	Query	#	#	use `mysqltest`; create table t2 (d int key, e int) engine=ndb
binlog.000001	#	Query	#	#	BEGIN
binlog.000001	#	Table_map	#	#	table_id: # (mysqltest.t1)
binlog.000001	#	Table_map	#	#	table_id: # (mysql.ndb_apply_status)
binlog.000001	#	Write_rows	#	#	table_id: #
binlog.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
binlog.000001	#	Query	#	#	COMMIT
use mysqltest;
insert into t2 values (1,1);
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
binlog.000001	#	Query	#	#	use `mysqltest`; drop table `mysqltest`.`t1`
binlog.000001	#	Query	#	#	use `mysqltest`; drop table `mysqltest`.`t2`
binlog.000001	#	Query	#	#	use `mysqltest`; create table t1 (d int key, e int) engine=ndb
binlog.000001	#	Query	#	#	use `mysqltest`; create table t2 (d int key, e int) engine=ndb
binlog.000001	#	Query	#	#	BEGIN
binlog.000001	#	Table_map	#	#	table_id: # (mysqltest.t1)
binlog.000001	#	Table_map	#	#	table_id: # (mysql.ndb_apply_status)
binlog.000001	#	Write_rows	#	#	table_id: #
binlog.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
binlog.000001	#	Query	#	#	COMMIT
binlog.000001	#	Query	#	#	BEGIN
binlog.000001	#	Table_map	#	#	table_id: # (mysqltest.t2)
binlog.000001	#	Table_map	#	#	table_id: # (mysql.ndb_apply_status)
binlog.000001	#	Write_rows	#	#	table_id: #
binlog.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
binlog.000001	#	Query	#	#	COMMIT
drop database mysqltest;
