set default_storage_engine='tokudb';
drop table if exists tt, ti;
set tokudb_enable_fast_update=1;
set tokudb_disable_slow_update=1;
create table tt (
id tinyint  null primary key,
x tinyint  null,
y tinyint  null,
z tinyint  null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
Warnings:
Warning	1264	Out of range value for column 'z' at row 1
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
Warnings:
Warning	1264	Out of range value for column 'z' at row 1
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id tinyint  not null primary key,
x tinyint  not null default 0,
y tinyint  not null default 0,
z tinyint  not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
Warnings:
Warning	1264	Out of range value for column 'z' at row 1
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
Warnings:
Warning	1264	Out of range value for column 'z' at row 1
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id tinyint unsigned null primary key,
x tinyint unsigned null,
y tinyint unsigned null,
z tinyint unsigned null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id tinyint unsigned not null primary key,
x tinyint unsigned not null default 0,
y tinyint unsigned not null default 0,
z tinyint unsigned not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id smallint  null primary key,
x smallint  null,
y smallint  null,
z smallint  null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id smallint  not null primary key,
x smallint  not null default 0,
y smallint  not null default 0,
z smallint  not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id smallint unsigned null primary key,
x smallint unsigned null,
y smallint unsigned null,
z smallint unsigned null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id smallint unsigned not null primary key,
x smallint unsigned not null default 0,
y smallint unsigned not null default 0,
z smallint unsigned not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id mediumint  null primary key,
x mediumint  null,
y mediumint  null,
z mediumint  null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id mediumint  not null primary key,
x mediumint  not null default 0,
y mediumint  not null default 0,
z mediumint  not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id mediumint unsigned null primary key,
x mediumint unsigned null,
y mediumint unsigned null,
z mediumint unsigned null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id mediumint unsigned not null primary key,
x mediumint unsigned not null default 0,
y mediumint unsigned not null default 0,
z mediumint unsigned not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id int  null primary key,
x int  null,
y int  null,
z int  null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id int  not null primary key,
x int  not null default 0,
y int  not null default 0,
z int  not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id int unsigned null primary key,
x int unsigned null,
y int unsigned null,
z int unsigned null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id int unsigned not null primary key,
x int unsigned not null default 0,
y int unsigned not null default 0,
z int unsigned not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id bigint  null primary key,
x bigint  null,
y bigint  null,
z bigint  null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id bigint  not null primary key,
x bigint  not null default 0,
y bigint  not null default 0,
z bigint  not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id bigint unsigned null primary key,
x bigint unsigned null,
y bigint unsigned null,
z bigint unsigned null,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
create table tt (
id bigint unsigned not null primary key,
x bigint unsigned not null default 0,
y bigint unsigned not null default 0,
z bigint unsigned not null default 0,
a char(32), aa varchar(32)
);
insert into tt (id) values (1),(2),(3) on duplicate key update x=0;
insert into tt (id) values (1) on duplicate key update y=0,z=42;
insert into tt (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into tt (id) values (1) on duplicate key update y=y-1;
insert into tt (id) values (1) on duplicate key update z=z-100;
create table ti like tt;
alter table ti engine=innodb;
insert into ti (id) values (1),(2),(3) on duplicate key update x=0;
insert into ti (id) values (1) on duplicate key update y=0,z=42;
insert into ti (id) values (1) on duplicate key update y=y+1,z=z+100;
insert into ti (id) values (1) on duplicate key update y=y-1;
insert into ti (id) values (1) on duplicate key update z=z-100;
include/diff_tables.inc [test.tt, test.ti]
drop table tt, ti;
