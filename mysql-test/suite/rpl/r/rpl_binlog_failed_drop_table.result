include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information.
[connection master]
CREATE DATABASE `db1`;
USE `db1`;
CREATE TABLE `t0` (`ID` bigint(20) primary key) ENGINE=MyISAM;
CREATE TABLE `t1` (`ID` bigint(20) primary key) ENGINE=InnoDB;
CREATE TABLE `t2` ( `ID` bigint(20) NOT NULL AUTO_INCREMENT, `DIVISION_ID` bigint(20) DEFAULT NULL, PRIMARY KEY (`ID`), KEY `FK_TABLE1_DIVISION_1` (`DIVISION_ID`), CONSTRAINT `FK_TABLE1_DIVISION_1` FOREIGN KEY (`DIVISION_ID`) REFERENCES `t1` (`ID`) ON DELETE CASCADE ) ENGINE=InnoDB;
CREATE TABLE `t3` (`ID` bigint(20) primary key) ENGINE=InnoDB;
DROP TABLE IF EXISTS `db1`.`t1`;
ERROR 23000: Cannot delete or update a parent row: a foreign key constraint fails
include/assert.inc [Drop with single table should not be written to the binary log if the query execution fails]
DROP TABLE `t3`, `t1`, `t2`;
ERROR 23000: Cannot delete or update a parent row: a foreign key constraint fails
include/assert.inc [Drop with multiple InnoDB-only tables should not be written to the binary log if the query execution fails]
DROP TABLE `t0`, `t1`, `t2`;
ERROR 23000: Cannot delete or update a parent row: a foreign key constraint fails
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Query	#	#	use `db1`; DROP TABLE `t0` /* generated by server */
include/sync_slave_sql_with_master.inc
Cleanup
[connection master]
DROP DATABASE `db1`;
include/rpl_end.inc
