include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information.
[connection master]
call mtr.add_suppression("Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT");
# Create table with columns of binary data types and insert values
CREATE TABLE bitwise_table(id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, vbin1 VARBINARY(32), vbin2 VARBINARY(32));
INSERT INTO bitwise_table(vbin1, vbin2) VALUES
(x'59', x'6a'),
(x'5939', x'6ac3'),
(x'5939a998', x'6ac35d2a'),
(x'5939a99861154f35', x'6ac35d2a3ab34bda'),
(x'5939a99861154f3587d5440618e9b28b', x'6ac35d2a3ab34bda8ac412ea0141852c'),
(x'5939a99861154f3587d5440618e9b28b166181c5ca514ab1b8e9c970ae5e421a', x'6ac35d2a3ab34bda8ac412ea0141852c3c8e38bb19934a7092a40bb19db13a80'),
(x'5939a99861154f3587d5440618e9b28b', x'8ac412ea0141852c'),
(x'5939a99861154f35', x'6ac35d2a3ab34bda8ac412ea0141852c');
INSERT INTO bitwise_table(vbin1, vbin2)
SELECT (vbin1 & vbin2) , (vbin1 | vbin2) FROM bitwise_table WHERE id <= 6;
INSERT INTO bitwise_table(vbin1, vbin2)
SELECT (vbin1 ^ vbin2) , ( ~ vbin1 ) FROM bitwise_table WHERE id <= 6;
INSERT INTO bitwise_table(vbin1, vbin2)
SELECT (vbin1 >> 4 ) , ( vbin2 << 3 ) FROM bitwise_table WHERE id <= 6;
INSERT INTO bitwise_table(vbin1, vbin2)
SELECT (vbin1 ^ x'6ac3'), (vbin2 & x'5939') FROM bitwise_table WHERE id = 2;
INSERT INTO bitwise_table(vbin1, vbin2)
SELECT (vbin1 & vbin2) , (vbin1 | vbin2) FROM bitwise_table WHERE id = 7;
ERROR HY000: Binary operands of bitwise operators must be of equal length
include/sync_slave_sql_with_master.inc
[Connection Slave]
# check whether table was created and values were inserted on slave
SELECT HEX(vbin1), BIT_COUNT(vbin1), HEX(vbin2), BIT_COUNT(vbin2) FROM bitwise_table;
HEX(vbin1)	BIT_COUNT(vbin1)	HEX(vbin2)	BIT_COUNT(vbin2)
59	4	6A	4
5939	8	6AC3	8
5939A998	15	6AC35D2A	16
5939A99861154F35	30	6AC35D2A3AB34BDA	34
5939A99861154F3587D5440618E9B28B	58	6AC35D2A3AB34BDA8AC412EA0141852C	56
5939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421A	115	6AC35D2A3AB34BDA8AC412EA0141852C3C8E38BB19934A7092A40BB19DB13A80	113
5939A99861154F3587D5440618E9B28B	58	8AC412EA0141852C	22
5939A99861154F35	30	6AC35D2A3AB34BDA8AC412EA0141852C	56
48	2	7B	6
4801	3	7BFB	13
48010908	6	7BFBFDBA	25
4801090820114B10	14	7BFBFDBA7BB74FFF	50
4801090820114B1082C4000200418008	24	7BFBFDBA7BB74FFF8FD556EE19E9B7AF	90
4801090820114B1082C40002004180081400008108114A3090A009308C100200	49	7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A	179
33	4	A6	4
33FA	10	A6C6	8
33FAF4B2	19	A6C65667	17
33FAF4B25BA604EF	36	A6C656679EEAB0CA	34
33FAF4B25BA604EF0D1156EC19A837A7	66	A6C656679EEAB0CA782ABBF9E7164D74	70
33FAF4B25BA604EF0D1156EC19A837A72AEFB97ED3C200C12A4DC2C133EF789A	130	A6C656679EEAB0CA782ABBF9E7164D74E99E7E3A35AEB54E4716368F51A1BDE5	141
05	2	50	2
0593	6	5618	6
05939A99	14	561AE950	14
05939A99861154F3	28	561AE951D59A5ED0	32
05939A99861154F3587D5440618E9B28	55	561AE951D59A5ED4562097500A0C2960	54
05939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421	113	561AE951D59A5ED4562097500A0C2961E471C5D8CC9A538495205D8CED89D400	111
33FA	10	4801	3
SELECT (vbin1 | NULL ), (vbin2 & NULL) FROM bitwise_table;
(vbin1 | NULL )	(vbin2 & NULL)
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
NULL	NULL
SELECT HEX(vbin1), HEX(BIT_AND(vbin1)), HEX(BIT_OR(vbin1)), HEX(BIT_XOR(vbin1)), BIT_COUNT(vbin1)  FROM bitwise_table GROUP BY id;
HEX(vbin1)	HEX(BIT_AND(vbin1))	HEX(BIT_OR(vbin1))	HEX(BIT_XOR(vbin1))	BIT_COUNT(vbin1)
59	59	59	59	4
5939	5939	5939	5939	8
5939A998	5939A998	5939A998	5939A998	15
5939A99861154F35	5939A99861154F35	5939A99861154F35	5939A99861154F35	30
5939A99861154F3587D5440618E9B28B	5939A99861154F3587D5440618E9B28B	5939A99861154F3587D5440618E9B28B	5939A99861154F3587D5440618E9B28B	58
5939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421A	5939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421A	5939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421A	5939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421A	115
5939A99861154F3587D5440618E9B28B	5939A99861154F3587D5440618E9B28B	5939A99861154F3587D5440618E9B28B	5939A99861154F3587D5440618E9B28B	58
5939A99861154F35	5939A99861154F35	5939A99861154F35	5939A99861154F35	30
48	48	48	48	2
4801	4801	4801	4801	3
48010908	48010908	48010908	48010908	6
4801090820114B10	4801090820114B10	4801090820114B10	4801090820114B10	14
4801090820114B1082C4000200418008	4801090820114B1082C4000200418008	4801090820114B1082C4000200418008	4801090820114B1082C4000200418008	24
4801090820114B1082C40002004180081400008108114A3090A009308C100200	4801090820114B1082C40002004180081400008108114A3090A009308C100200	4801090820114B1082C40002004180081400008108114A3090A009308C100200	4801090820114B1082C40002004180081400008108114A3090A009308C100200	49
33	33	33	33	4
33FA	33FA	33FA	33FA	10
33FAF4B2	33FAF4B2	33FAF4B2	33FAF4B2	19
33FAF4B25BA604EF	33FAF4B25BA604EF	33FAF4B25BA604EF	33FAF4B25BA604EF	36
33FAF4B25BA604EF0D1156EC19A837A7	33FAF4B25BA604EF0D1156EC19A837A7	33FAF4B25BA604EF0D1156EC19A837A7	33FAF4B25BA604EF0D1156EC19A837A7	66
33FAF4B25BA604EF0D1156EC19A837A72AEFB97ED3C200C12A4DC2C133EF789A	33FAF4B25BA604EF0D1156EC19A837A72AEFB97ED3C200C12A4DC2C133EF789A	33FAF4B25BA604EF0D1156EC19A837A72AEFB97ED3C200C12A4DC2C133EF789A	33FAF4B25BA604EF0D1156EC19A837A72AEFB97ED3C200C12A4DC2C133EF789A	130
05	05	05	05	2
0593	0593	0593	0593	6
05939A99	05939A99	05939A99	05939A99	14
05939A99861154F3	05939A99861154F3	05939A99861154F3	05939A99861154F3	28
05939A99861154F3587D5440618E9B28	05939A99861154F3587D5440618E9B28	05939A99861154F3587D5440618E9B28	05939A99861154F3587D5440618E9B28	55
05939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421	05939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421	05939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421	05939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421	113
33FA	33FA	33FA	33FA	10
SELECT HEX(vbin2), HEX(BIT_AND(vbin2)), HEX(BIT_OR(vbin2)), HEX(BIT_XOR(vbin2)), BIT_COUNT(vbin2)  FROM bitwise_table GROUP BY id;
HEX(vbin2)	HEX(BIT_AND(vbin2))	HEX(BIT_OR(vbin2))	HEX(BIT_XOR(vbin2))	BIT_COUNT(vbin2)
6A	6A	6A	6A	4
6AC3	6AC3	6AC3	6AC3	8
6AC35D2A	6AC35D2A	6AC35D2A	6AC35D2A	16
6AC35D2A3AB34BDA	6AC35D2A3AB34BDA	6AC35D2A3AB34BDA	6AC35D2A3AB34BDA	34
6AC35D2A3AB34BDA8AC412EA0141852C	6AC35D2A3AB34BDA8AC412EA0141852C	6AC35D2A3AB34BDA8AC412EA0141852C	6AC35D2A3AB34BDA8AC412EA0141852C	56
6AC35D2A3AB34BDA8AC412EA0141852C3C8E38BB19934A7092A40BB19DB13A80	6AC35D2A3AB34BDA8AC412EA0141852C3C8E38BB19934A7092A40BB19DB13A80	6AC35D2A3AB34BDA8AC412EA0141852C3C8E38BB19934A7092A40BB19DB13A80	6AC35D2A3AB34BDA8AC412EA0141852C3C8E38BB19934A7092A40BB19DB13A80	113
8AC412EA0141852C	8AC412EA0141852C	8AC412EA0141852C	8AC412EA0141852C	22
6AC35D2A3AB34BDA8AC412EA0141852C	6AC35D2A3AB34BDA8AC412EA0141852C	6AC35D2A3AB34BDA8AC412EA0141852C	6AC35D2A3AB34BDA8AC412EA0141852C	56
7B	7B	7B	7B	6
7BFB	7BFB	7BFB	7BFB	13
7BFBFDBA	7BFBFDBA	7BFBFDBA	7BFBFDBA	25
7BFBFDBA7BB74FFF	7BFBFDBA7BB74FFF	7BFBFDBA7BB74FFF	7BFBFDBA7BB74FFF	50
7BFBFDBA7BB74FFF8FD556EE19E9B7AF	7BFBFDBA7BB74FFF8FD556EE19E9B7AF	7BFBFDBA7BB74FFF8FD556EE19E9B7AF	7BFBFDBA7BB74FFF8FD556EE19E9B7AF	90
7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A	7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A	7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A	7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A	179
A6	A6	A6	A6	4
A6C6	A6C6	A6C6	A6C6	8
A6C65667	A6C65667	A6C65667	A6C65667	17
A6C656679EEAB0CA	A6C656679EEAB0CA	A6C656679EEAB0CA	A6C656679EEAB0CA	34
A6C656679EEAB0CA782ABBF9E7164D74	A6C656679EEAB0CA782ABBF9E7164D74	A6C656679EEAB0CA782ABBF9E7164D74	A6C656679EEAB0CA782ABBF9E7164D74	70
A6C656679EEAB0CA782ABBF9E7164D74E99E7E3A35AEB54E4716368F51A1BDE5	A6C656679EEAB0CA782ABBF9E7164D74E99E7E3A35AEB54E4716368F51A1BDE5	A6C656679EEAB0CA782ABBF9E7164D74E99E7E3A35AEB54E4716368F51A1BDE5	A6C656679EEAB0CA782ABBF9E7164D74E99E7E3A35AEB54E4716368F51A1BDE5	141
50	50	50	50	2
5618	5618	5618	5618	6
561AE950	561AE950	561AE950	561AE950	14
561AE951D59A5ED0	561AE951D59A5ED0	561AE951D59A5ED0	561AE951D59A5ED0	32
561AE951D59A5ED4562097500A0C2960	561AE951D59A5ED4562097500A0C2960	561AE951D59A5ED4562097500A0C2960	561AE951D59A5ED4562097500A0C2960	54
561AE951D59A5ED4562097500A0C2961E471C5D8CC9A538495205D8CED89D400	561AE951D59A5ED4562097500A0C2961E471C5D8CC9A538495205D8CED89D400	561AE951D59A5ED4562097500A0C2961E471C5D8CC9A538495205D8CED89D400	561AE951D59A5ED4562097500A0C2961E471C5D8CC9A538495205D8CED89D400	111
4801	4801	4801	4801	3
include/diff_tables.inc [master:bitwise_table, slave:bitwise_table]
[Connection Master]
# Update rows inside the table
UPDATE bitwise_table SET vbin1 = (vbin1 | vbin2) WHERE id <= 6;
UPDATE bitwise_table SET vbin2 = (vbin1 & vbin2) WHERE id <= 6;
include/sync_slave_sql_with_master.inc
[Connection Slave]
# Check whether rows are updated
SELECT HEX(vbin1), HEX(vbin2) FROM bitwise_table WHERE id <= 6;
HEX(vbin1)	HEX(vbin2)
7B	6A
7BFB	6AC3
7BFBFDBA	6AC35D2A
7BFBFDBA7BB74FFF	6AC35D2A3AB34BDA
7BFBFDBA7BB74FFF8FD556EE19E9B7AF	6AC35D2A3AB34BDA8AC412EA0141852C
7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A	6AC35D2A3AB34BDA8AC412EA0141852C3C8E38BB19934A7092A40BB19DB13A80
include/diff_tables.inc [master:bitwise_table, slave:bitwise_table]
[Connection Master]
UPDATE bitwise_table SET vbin1 = (vbin1 ^ vbin2) WHERE id <= 6;
UPDATE bitwise_table SET vbin2 = (~ vbin1) WHERE id <= 6;
include/sync_slave_sql_with_master.inc
[Connection Slave]
# Check whether rows are updated
SELECT HEX(vbin1), HEX(vbin2) FROM bitwise_table WHERE id <= 6;
HEX(vbin1)	HEX(vbin2)
11	EE
1138	EEC7
1138A090	EEC75F6F
1138A09041040425	EEC75F6FBEFBFBDA
1138A090410404250511440418A83283	EEC75F6FBEFBFBDAFAEEBBFBE757CD7C
1138A090410404250511440418A8328302618144C24000812849C040224E401A	EEC75F6FBEFBFBDAFAEEBBFBE757CD7CFD9E7EBB3DBFFF7ED7B63FBFDDB1BFE5
include/diff_tables.inc [master:bitwise_table, slave:bitwise_table]
[Connection Master]
# Delete rows from the table
DELETE FROM bitwise_table WHERE BIT_COUNT(vbin1) <= 8;
include/sync_slave_sql_with_master.inc
[Connection Slave]
# check whether the rows are deleted
SELECT HEX(vbin1), HEX(vbin2) FROM bitwise_table;
HEX(vbin1)	HEX(vbin2)
1138A090	EEC75F6F
1138A09041040425	EEC75F6FBEFBFBDA
1138A090410404250511440418A83283	EEC75F6FBEFBFBDAFAEEBBFBE757CD7C
1138A090410404250511440418A8328302618144C24000812849C040224E401A	EEC75F6FBEFBFBDAFAEEBBFBE757CD7CFD9E7EBB3DBFFF7ED7B63FBFDDB1BFE5
5939A99861154F3587D5440618E9B28B	8AC412EA0141852C
5939A99861154F35	6AC35D2A3AB34BDA8AC412EA0141852C
4801090820114B10	7BFBFDBA7BB74FFF
4801090820114B1082C4000200418008	7BFBFDBA7BB74FFF8FD556EE19E9B7AF
4801090820114B1082C40002004180081400008108114A3090A009308C100200	7BFBFDBA7BB74FFF8FD556EE19E9B7AF3EEFB9FFDBD34AF1BAEDCBF1BFFF7A9A
33FA	A6C6
33FAF4B2	A6C65667
33FAF4B25BA604EF	A6C656679EEAB0CA
33FAF4B25BA604EF0D1156EC19A837A7	A6C656679EEAB0CA782ABBF9E7164D74
33FAF4B25BA604EF0D1156EC19A837A72AEFB97ED3C200C12A4DC2C133EF789A	A6C656679EEAB0CA782ABBF9E7164D74E99E7E3A35AEB54E4716368F51A1BDE5
05939A99	561AE950
05939A99861154F3	561AE951D59A5ED0
05939A99861154F3587D5440618E9B28	561AE951D59A5ED4562097500A0C2960
05939A99861154F3587D5440618E9B28B166181C5CA514AB1B8E9C970AE5E421	561AE951D59A5ED4562097500A0C2961E471C5D8CC9A538495205D8CED89D400
33FA	4801
include/diff_tables.inc [master:bitwise_table, slave:bitwise_table]
[Connection Master]
# Drop tables and clean up
DROP TABLE bitwise_table;
include/sync_slave_sql_with_master.inc
[Connection Slave]
# Check whether table is dropped
SELECT * FROM bitwise_table;
ERROR 42S02: Table 'test.bitwise_table' doesn't exist
include/rpl_end.inc
