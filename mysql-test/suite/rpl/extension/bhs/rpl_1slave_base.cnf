# Use default setting for mysqld processes
!include include/default_mysqld.cnf
!include include/default_client.cnf

[mysqld.1]

# Run the master.sh script before starting this process
#!run-master-sh

log-bin=                 master-bin

[mysqld.2]
# Run the slave.sh script before starting this process
#!run-slave-sh

# Append <testname>-slave.opt file to the list of argument used when
# starting the mysqld
#!use-slave-opt

log-bin=                    slave-bin
relay-log=                  slave-relay-bin

master-retry-count=         10

# Values reported by slave when it connect to master
# and shows up in SHOW SLAVE STATUS;
report-host=                127.0.0.1
report-port=                @mysqld.2.port
report-user=                root

skip-slave-start

# Directory where slaves find the dumps generated by "load data"
# on the server. The path need to have constant length otherwise
# test results will vary, thus a relative path is used.
slave-load-tmpdir=          ../../tmp


[mysqld.5]

log-bin=                    blackhole-slave-bin
relay-log=                  blackhole-slave-relay-bin

master-retry-count=         10

# Values reported by slave when it connect to master
# and shows up in SHOW SLAVE STATUS;
report-host=                127.0.0.1
report-port=                @mysqld.5.port
report-user=                root

skip-slave-start

# Directory where slaves find the dumps generated by "load data"
# on the server. The path need to have constant length otherwise
# test results will vary, thus a relative path is used.
slave-load-tmpdir=          ../../tmp

default-storage-engine=blackhole

[ENV]
MASTER_MYPORT=              @mysqld.1.port
MASTER_MYSOCK=              @mysqld.1.socket

SLAVE_MYPORT=               @mysqld.2.port
SLAVE_MYSOCK=               @mysqld.2.socket

BHS_MYPORT=     	    @mysqld.5.port
BHS_MYSOCK=            	    @mysqld.5.socket
