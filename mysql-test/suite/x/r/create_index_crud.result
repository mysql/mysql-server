call mtr.add_suppression("Error parsing message of type 12: args");
call mtr.add_suppression("Error handling message: args");
call mtr.add_suppression("Compute virtual column values failed");
RUN DROP DATABASE IF EXISTS xplugintest

0 rows affected
RUN DROP DATABASE IF EXISTS xplugintest_1

0 rows affected
RUN CREATE DATABASE xplugintest

1 rows affected
RUN CREATE DATABASE xplugintest_1

1 rows affected
RUN USE xplugintest

0 rows affected
RUN CREATE TABLE table1 ( _id INT , doc JSON ) 

0 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  namespace: "xplugin"
}


command ok
Namespace 'xplugin' is deprecated, please use 'mysqlx' instead
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "col1_index"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.col1"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "TEXT(13)"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"01234567890123456789","_id":0}')

1 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "col2_index"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.col2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN SHOW CREATE TABLE xplugintest.table2
Table	Create Table
table2	CREATE TABLE `table2` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col1'))) VIRTUAL NOT NULL,
  `$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col2')) VIRTUAL,
  PRIMARY KEY (`_id`),
  UNIQUE KEY `col1_index` (`$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9`(13)),
  KEY `col2_index` (`$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val1","col2":101,"_id":1}')

1 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val1","col2":102,"_id":2}')
While executing INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val1","col2":102,"_id":2}'):
Got expected error: Duplicate entry 'val1' for key 'col1_index' (code 1062)
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col2":103,"_id":3}')
While executing INSERT INTO xplugintest.table2(doc) VALUES('{"col2":103,"_id":3}'):
Got expected error: Column '$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9' cannot be null (code 1048)
RUN SELECT * FROM xplugintest.table2
doc	_id	$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9	$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F
{"_id": 0, "col1": "01234567890123456789"}	0	01234567890123456789	null
{"_id": 1, "col1": "val1", "col2": 101}	1	val1	101
0 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val4","col2":102,"_id":4}')

1 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val5","_id":5}')

1 rows affected
RUN SELECT * FROM xplugintest.table2
doc	_id	$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9	$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F
{"_id": 0, "col1": "01234567890123456789"}	0	01234567890123456789	null
{"_id": 1, "col1": "val1", "col2": 101}	1	val1	101
{"_id": 4, "col1": "val4", "col2": 102}	4	val4	102
{"_id": 5, "col1": "val5"}	5	val5	null
0 rows affected
RUN SELECT _id,doc, CONCAT("Prefix",$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9) , $ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F
   FROM xplugintest.table2
_id	doc	CONCAT("Prefix",$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9)	$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F
0	{"_id": 0, "col1": "01234567890123456789"}	Prefix01234567890123456789	null
1	{"_id": 1, "col1": "val1", "col2": 101}	Prefixval1	101
4	{"_id": 4, "col1": "val4", "col2": 102}	Prefixval4	102
5	{"_id": 5, "col1": "val5"}	Prefixval5	null
0 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val6","col2":"non_int_val","_id":6}')
While executing INSERT INTO xplugintest.table2(doc) VALUES('{"col1":"val6","col2":"non_int_val","_id":6}'):
Got expected error: Invalid JSON value for CAST to INTEGER from column json_extract at row 1 (code 3156)
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "col2_index"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.col3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Error {
  severity: ERROR
  code: 1061
  msg: "Duplicate key name \'col2_index\'"
  sql_state: "42000"
}

RUN ALTER TABLE xplugintest.table2 ADD COLUMN $ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36 TEXT

0 rows affected
Records: 0  Duplicates: 0  Warnings: 0
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "col3_index"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.col3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "TEXT(13)"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "_id_index"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$._id"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "col5_index"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.....col5"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Error {
  severity: ERROR
  code: 3143
  msg: "Invalid JSON path expression. The error is around character position 2."
  sql_state: "42000"
}

RUN SHOW CREATE TABLE xplugintest.table2
Table	Create Table
table2	CREATE TABLE `table2` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col1'))) VIRTUAL NOT NULL,
  `$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col2')) VIRTUAL,
  `$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36` text,
  `$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col3'))) VIRTUAL,
  `$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$._id')) VIRTUAL,
  PRIMARY KEY (`_id`),
  UNIQUE KEY `col1_index` (`$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9`(13)),
  KEY `col2_index` (`$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F`),
  KEY `col3_index` (`$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF`(13)),
  KEY `_id_index` (`$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
RUN ALTER TABLE xplugintest.table2 DROP INDEX `col1_index`

0 rows affected
Records: 0  Duplicates: 0  Warnings: 0
RUN ALTER TABLE xplugintest.table2 DROP COLUMN `$ix_t13_r_5E11219941D8F091BF6F252A48E0EEAA9D734FF9`

0 rows affected
Records: 0  Duplicates: 0  Warnings: 0
RUN SHOW CREATE TABLE xplugintest.table2
Table	Create Table
table2	CREATE TABLE `table2` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col2')) VIRTUAL,
  `$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36` text,
  `$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col3'))) VIRTUAL,
  `$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$._id')) VIRTUAL,
  PRIMARY KEY (`_id`),
  KEY `col2_index` (`$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F`),
  KEY `col3_index` (`$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF`(13)),
  KEY `_id_index` (`$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
RUN SELECT * FROM xplugintest.table2
doc	_id	$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F	$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36	$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF	$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42
{"_id": 0, "col1": "01234567890123456789"}	0	null	null	null	0
{"_id": 1, "col1": "val1", "col2": 101}	1	101	null	null	1
{"_id": 4, "col1": "val4", "col2": 102}	4	102	null	null	4
{"_id": 5, "col1": "val5"}	5	null	null	null	5
0 rows affected
RUN ALTER TABLE xplugintest.table2 ADD COLUMN `$col1_ix_t13` text
            GENERATED ALWAYS AS (LEFT(JSON_UNQUOTE(JSON_EXTRACT(doc, '$.col1')), 13)) STORED 

4 rows affected
Records: 4  Duplicates: 0  Warnings: 0
RUN SHOW CREATE TABLE xplugintest.table2
Table	Create Table
table2	CREATE TABLE `table2` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col2')) VIRTUAL,
  `$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36` text,
  `$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col3'))) VIRTUAL,
  `$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$._id')) VIRTUAL,
  `$col1_ix_t13` text GENERATED ALWAYS AS (left(json_unquote(json_extract(`doc`,_utf8mb4'$.col1')),13)) STORED,
  PRIMARY KEY (`_id`),
  KEY `col2_index` (`$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F`),
  KEY `col3_index` (`$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF`(13)),
  KEY `_id_index` (`$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
RUN SELECT * FROM xplugintest.table2
doc	_id	$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F	$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36	$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF	$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42	$col1_ix_t13
{"_id": 0, "col1": "01234567890123456789"}	0	null	null	null	0	0123456789012
{"_id": 1, "col1": "val1", "col2": 101}	1	101	null	null	1	val1
{"_id": 4, "col1": "val4", "col2": 102}	4	102	null	null	4	val4
{"_id": 5, "col1": "val5"}	5	null	null	null	5	val5
0 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "_id"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.col9"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN SHOW CREATE TABLE xplugintest.table2
Table	Create Table
table2	CREATE TABLE `table2` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col2')) VIRTUAL,
  `$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36` text,
  `$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col3'))) VIRTUAL,
  `$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$._id')) VIRTUAL,
  `$col1_ix_t13` text GENERATED ALWAYS AS (left(json_unquote(json_extract(`doc`,_utf8mb4'$.col1')),13)) STORED,
  `$ix_i_19A716031E8396A7049831D1FFB53409FB4689A6` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col9')) VIRTUAL,
  PRIMARY KEY (`_id`),
  KEY `col2_index` (`$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F`),
  KEY `col3_index` (`$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF`(13)),
  KEY `_id_index` (`$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42`),
  KEY `_id` (`$ix_i_19A716031E8396A7049831D1FFB53409FB4689A6`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.col5"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Error {
  severity: ERROR
  code: 5016
  msg: "Invalid type for argument \'name\' at #3 (should be string)"
  sql_state: "HY000"
}

RUN TRUNCATE xplugintest.table2

0 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"F1":1, "F2":"abcd", "F3":1000, "_id":0}')

1 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "iX1"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.F2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "BLOB(767)"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

Create index on two fields
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "iX3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.F3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "BIGINT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.F2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "BLOB(767)"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN TRUNCATE xplugintest.table2

0 rows affected
RUN INSERT INTO xplugintest.table2(doc) VALUES('{"F2":"REQUIRED", "F3":"1", "KeyName_VeryLongKeyNameWithKeyNameLength_FiFtyFourAndEvenABitLonger": "abcdefgh", "_id":1}')

1 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "iXLong"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.KeyName_VeryLongKeyNameWithKeyNameLength_FiFtyFourAndEvenABitLonger"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "BLOB(3000)"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: false
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN SHOW CREATE TABLE xplugintest.table2
Table	Create Table
table2	CREATE TABLE `table2` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col2')) VIRTUAL,
  `$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36` text,
  `$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF` text GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.col3'))) VIRTUAL,
  `$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$._id')) VIRTUAL,
  `$col1_ix_t13` text GENERATED ALWAYS AS (left(json_unquote(json_extract(`doc`,_utf8mb4'$.col1')),13)) STORED,
  `$ix_i_19A716031E8396A7049831D1FFB53409FB4689A6` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.col9')) VIRTUAL,
  `$ix_bt767_8870EF04DBC5C827B87C34BF582F39442A78BBD9` blob GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.F2'))) VIRTUAL,
  `$ix_ib_r_755774C7760C6184F154B25E88F81712F65BC712` bigint(20) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.F3')) VIRTUAL NOT NULL,
  `$ix_bt767_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9` blob GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.F2'))) VIRTUAL NOT NULL,
  `$ix_bt3000_EED9F4FDE93464D65631C14643D3B9F9E401EA43` blob GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$.KeyName_VeryLongKeyNameWithKeyNameLength_FiFtyFourAndEvenABitLonger'))) VIRTUAL,
  PRIMARY KEY (`_id`),
  UNIQUE KEY `iX3` (`$ix_ib_r_755774C7760C6184F154B25E88F81712F65BC712`,`$ix_bt767_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9`(767)),
  KEY `col2_index` (`$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F`),
  KEY `col3_index` (`$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF`(13)),
  KEY `_id_index` (`$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42`),
  KEY `_id` (`$ix_i_19A716031E8396A7049831D1FFB53409FB4689A6`),
  KEY `iX1` (`$ix_bt767_8870EF04DBC5C827B87C34BF582F39442A78BBD9`(767)),
  KEY `iXLong` (`$ix_bt3000_EED9F4FDE93464D65631C14643D3B9F9E401EA43`(3000))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
RUN SELECT * FROM xplugintest.table2
doc	_id	$ix_i_1C70785A292B9A2762EFA186DFCFB4F03C660E7F	$ix_t13_bf29f74d5ecec695774cb5b3f1ff979e7643bf36	$ix_t13_8B49C928244561F5DACBE63B030ADA2983C76BFF	$ix_i_ED8EA5BF0D44065A674B92033FC24920B41C5F42	$col1_ix_t13	$ix_i_19A716031E8396A7049831D1FFB53409FB4689A6	$ix_bt767_8870EF04DBC5C827B87C34BF582F39442A78BBD9	$ix_ib_r_755774C7760C6184F154B25E88F81712F65BC712	$ix_bt767_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	$ix_bt3000_EED9F4FDE93464D65631C14643D3B9F9E401EA43
{"F2": "REQUIRED", "F3": "1", "_id": 1, "KeyName_VeryLongKeyNameWithKeyNameLength_FiFtyFourAndEvenABitLonger": "abcdefgh"}	1	null	null	null	1	null	null	REQUIRED	1	REQUIRED	abcdefgh
0 rows affected
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: ""
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Error {
  severity: ERROR
  code: 5017
  msg: "Invalid document path value for argument member"
  sql_state: "HY000"
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX0"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Error {
  severity: ERROR
  code: 5017
  msg: "Invalid document path value for argument member"
  sql_state: "HY000"
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX1"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.`a#1`"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX2"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.a\'; drop datavase xplugintest; \'"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.`a\'1`"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX4"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.`a\'1`"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX5"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.`a\\\'1`"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX6"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.a\' drop database xplugintest; \'"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX7"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.b)) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, $.c"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX8"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.b\')) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, \'$.c"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX9"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.b\')) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, \'$.c"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX10"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.b\\\')) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, \\\'$.c"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IX11"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.`b))` virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, $.`c`"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

Document path 2k long
send Mysqlx.Sql.StmtExecute {
  stmt: "create_collection_index"
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "xplugintest"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "table3"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "IXLong1"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "$.a0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_STRING
      v_string {
        value: "INT"
      }
    }
  }
  args {
    type: SCALAR
    scalar {
      type: V_BOOL
      v_bool: true
    }
  }
  namespace: "xplugin"
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN SHOW CREATE TABLE xplugintest.table3
Table	Create Table
table3	CREATE TABLE `table3` (
  `doc` json DEFAULT NULL,
  `_id` varbinary(32) GENERATED ALWAYS AS (json_unquote(json_extract(`doc`,_utf8mb4'$._id'))) STORED NOT NULL,
  `$ix_i_r_DB5D40CADB1AF49035A1BEE0FFF0C8B4CA357CC2` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.`a#1`')) VIRTUAL NOT NULL,
  `$ix_i_r_AD49E2F7B0384744AD4EE41937A47E44B2E0DDC8` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.a\'; drop datavase xplugintest; \'')) VIRTUAL NOT NULL,
  `$ix_i_r_C30BDD20F69BA78166A26D8620EDA8C634E8BDBD` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.`a\'1`')) VIRTUAL NOT NULL,
  `$ix_i_r_7C10F13A9677599586BF002593F6406D5258416F` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.`a\\\'1`')) VIRTUAL NOT NULL,
  `$ix_i_r_EA84D56047FAB9EC36481B419931E508D77D0C30` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.a\' drop database xplugintest; \'')) VIRTUAL NOT NULL,
  `$ix_i_r_55BC2C2CAF9700E3D4EF9E1BBC7E21E14788A16B` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.b)) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, $.c')) VIRTUAL NOT NULL,
  `$ix_i_r_4FDF930A8FF7114E54244CA377E03F7500AD9E96` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.b\')) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, \'$.c')) VIRTUAL NOT NULL,
  `$ix_i_r_94DA72EC77AD3D19CB6B9CB6383069C810932E29` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.b\\\')) virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, \\\'$.c')) VIRTUAL NOT NULL,
  `$ix_i_r_0B6D1F04DD08A4AB089A8F9D3B079ECFDFBBD179` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.`b))` virtual not null; drop database xplugintest; alter table table3 add column x int GENERATED ALWAYS AS (JSON_EXTRACT(doc, $.`c`')) VIRTUAL NOT NULL,
  `$ix_i_r_9BC5A3EB89CA6B17C3272000A817E7A813E3986B` int(11) GENERATED ALWAYS AS (json_extract(`doc`,_utf8mb4'$.a0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678')) VIRTUAL NOT NULL,
  PRIMARY KEY (`_id`),
  UNIQUE KEY `IX1` (`$ix_i_r_DB5D40CADB1AF49035A1BEE0FFF0C8B4CA357CC2`),
  UNIQUE KEY `IX2` (`$ix_i_r_AD49E2F7B0384744AD4EE41937A47E44B2E0DDC8`),
  UNIQUE KEY `IX3` (`$ix_i_r_C30BDD20F69BA78166A26D8620EDA8C634E8BDBD`),
  UNIQUE KEY `IX4` (`$ix_i_r_C30BDD20F69BA78166A26D8620EDA8C634E8BDBD`),
  UNIQUE KEY `IX5` (`$ix_i_r_7C10F13A9677599586BF002593F6406D5258416F`),
  UNIQUE KEY `IX6` (`$ix_i_r_EA84D56047FAB9EC36481B419931E508D77D0C30`),
  UNIQUE KEY `IX7` (`$ix_i_r_55BC2C2CAF9700E3D4EF9E1BBC7E21E14788A16B`),
  UNIQUE KEY `IX8` (`$ix_i_r_4FDF930A8FF7114E54244CA377E03F7500AD9E96`),
  UNIQUE KEY `IX9` (`$ix_i_r_4FDF930A8FF7114E54244CA377E03F7500AD9E96`),
  UNIQUE KEY `IX10` (`$ix_i_r_94DA72EC77AD3D19CB6B9CB6383069C810932E29`),
  UNIQUE KEY `IX11` (`$ix_i_r_0B6D1F04DD08A4AB089A8F9D3B079ECFDFBBD179`),
  UNIQUE KEY `IXLong1` (`$ix_i_r_9BC5A3EB89CA6B17C3272000A817E7A813E3986B`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
0 rows affected
RUN CREATE TABLE col_myp337 ( _id INT , doc JSON ) 

0 rows affected
Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

Mysqlx.Sql.StmtExecuteOk {
}

RUN ANALYZE TABLE xplugintest.col_myp337
Table	Op	Msg_type	Msg_text
xplugintest.col_myp337	analyze	status	OK
0 rows affected
RUN SHOW INDEX from xplugintest.col_myp337 where Key_name rlike '^index_[12][0-9]*'
Table	Non_unique	Key_name	Seq_in_index	Column_name	Collation	Cardinality	Sub_part	Packed	Null	Index_type	Comment	Index_comment	Visible
col_myp337	0	index_11	1	$ix_t11_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	11	null		BTREE			YES
col_myp337	0	index_11	2	$ix_t11_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	11	null	YES	BTREE			YES
col_myp337	0	index_11	3	$ix_i11_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_11	4	$ix_i11_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_11	5	$ix_bt11_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	11	null		BTREE			YES
col_myp337	0	index_11	6	$ix_bt11_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	11	null	YES	BTREE			YES
col_myp337	0	index_12	1	$ix_t12_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	12	null		BTREE			YES
col_myp337	0	index_12	2	$ix_t12_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	12	null	YES	BTREE			YES
col_myp337	0	index_12	3	$ix_i12_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_12	4	$ix_i12_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_12	5	$ix_bt12_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	12	null		BTREE			YES
col_myp337	0	index_12	6	$ix_bt12_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	12	null	YES	BTREE			YES
col_myp337	0	index_13	1	$ix_t13_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	13	null		BTREE			YES
col_myp337	0	index_13	2	$ix_t13_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	13	null	YES	BTREE			YES
col_myp337	0	index_13	3	$ix_i13_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_13	4	$ix_i13_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_13	5	$ix_bt13_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	13	null		BTREE			YES
col_myp337	0	index_13	6	$ix_bt13_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	13	null	YES	BTREE			YES
col_myp337	0	index_14	1	$ix_t14_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	14	null		BTREE			YES
col_myp337	0	index_14	2	$ix_t14_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	14	null	YES	BTREE			YES
col_myp337	0	index_14	3	$ix_i14_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_14	4	$ix_i14_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_14	5	$ix_bt14_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	14	null		BTREE			YES
col_myp337	0	index_14	6	$ix_bt14_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	14	null	YES	BTREE			YES
col_myp337	0	index_15	1	$ix_t15_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	15	null		BTREE			YES
col_myp337	0	index_15	2	$ix_t15_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	15	null	YES	BTREE			YES
col_myp337	0	index_15	3	$ix_i15_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_15	4	$ix_i15_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_15	5	$ix_bt15_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	15	null		BTREE			YES
col_myp337	0	index_15	6	$ix_bt15_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	15	null	YES	BTREE			YES
col_myp337	0	index_16	1	$ix_t16_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	16	null		BTREE			YES
col_myp337	0	index_16	2	$ix_t16_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	16	null	YES	BTREE			YES
col_myp337	0	index_16	3	$ix_i16_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_16	4	$ix_i16_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_16	5	$ix_bt16_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	16	null		BTREE			YES
col_myp337	0	index_16	6	$ix_bt16_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	16	null	YES	BTREE			YES
col_myp337	0	index_17	1	$ix_t17_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	17	null		BTREE			YES
col_myp337	0	index_17	2	$ix_t17_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	17	null	YES	BTREE			YES
col_myp337	0	index_17	3	$ix_i17_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_17	4	$ix_i17_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_17	5	$ix_bt17_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	17	null		BTREE			YES
col_myp337	0	index_17	6	$ix_bt17_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	17	null	YES	BTREE			YES
col_myp337	0	index_18	1	$ix_t18_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	18	null		BTREE			YES
col_myp337	0	index_18	2	$ix_t18_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	18	null	YES	BTREE			YES
col_myp337	0	index_18	3	$ix_i18_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_18	4	$ix_i18_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_18	5	$ix_bt18_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	18	null		BTREE			YES
col_myp337	0	index_18	6	$ix_bt18_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	18	null	YES	BTREE			YES
col_myp337	0	index_19	1	$ix_t19_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	19	null		BTREE			YES
col_myp337	0	index_19	2	$ix_t19_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	19	null	YES	BTREE			YES
col_myp337	0	index_19	3	$ix_i19_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_19	4	$ix_i19_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_19	5	$ix_bt19_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	19	null		BTREE			YES
col_myp337	0	index_19	6	$ix_bt19_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	19	null	YES	BTREE			YES
col_myp337	0	index_20	1	$ix_t20_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	20	null		BTREE			YES
col_myp337	0	index_20	2	$ix_t20_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	20	null	YES	BTREE			YES
col_myp337	0	index_20	3	$ix_i20_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_20	4	$ix_i20_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_20	5	$ix_bt20_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	20	null		BTREE			YES
col_myp337	0	index_20	6	$ix_bt20_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	20	null	YES	BTREE			YES
col_myp337	0	index_21	1	$ix_t21_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	21	null		BTREE			YES
col_myp337	0	index_21	2	$ix_t21_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	21	null	YES	BTREE			YES
col_myp337	0	index_21	3	$ix_i21_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_21	4	$ix_i21_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_21	5	$ix_bt21_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	21	null		BTREE			YES
col_myp337	0	index_21	6	$ix_bt21_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	21	null	YES	BTREE			YES
col_myp337	0	index_22	1	$ix_t22_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	22	null		BTREE			YES
col_myp337	0	index_22	2	$ix_t22_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	22	null	YES	BTREE			YES
col_myp337	0	index_22	3	$ix_i22_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_22	4	$ix_i22_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_22	5	$ix_bt22_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	22	null		BTREE			YES
col_myp337	0	index_22	6	$ix_bt22_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	22	null	YES	BTREE			YES
col_myp337	0	index_23	1	$ix_t23_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	23	null		BTREE			YES
col_myp337	0	index_23	2	$ix_t23_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	23	null	YES	BTREE			YES
col_myp337	0	index_23	3	$ix_i23_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_23	4	$ix_i23_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_23	5	$ix_bt23_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	23	null		BTREE			YES
col_myp337	0	index_23	6	$ix_bt23_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	23	null	YES	BTREE			YES
col_myp337	0	index_24	1	$ix_t24_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	24	null		BTREE			YES
col_myp337	0	index_24	2	$ix_t24_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	24	null	YES	BTREE			YES
col_myp337	0	index_24	3	$ix_i24_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_24	4	$ix_i24_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_24	5	$ix_bt24_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	24	null		BTREE			YES
col_myp337	0	index_24	6	$ix_bt24_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	24	null	YES	BTREE			YES
col_myp337	0	index_25	1	$ix_t25_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	25	null		BTREE			YES
col_myp337	0	index_25	2	$ix_t25_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	25	null	YES	BTREE			YES
col_myp337	0	index_25	3	$ix_i25_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_25	4	$ix_i25_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_25	5	$ix_bt25_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	25	null		BTREE			YES
col_myp337	0	index_25	6	$ix_bt25_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	25	null	YES	BTREE			YES
col_myp337	0	index_26	1	$ix_t26_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	26	null		BTREE			YES
col_myp337	0	index_26	2	$ix_t26_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	26	null	YES	BTREE			YES
col_myp337	0	index_26	3	$ix_i26_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_26	4	$ix_i26_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_26	5	$ix_bt26_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	26	null		BTREE			YES
col_myp337	0	index_26	6	$ix_bt26_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	26	null	YES	BTREE			YES
col_myp337	0	index_27	1	$ix_t27_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	27	null		BTREE			YES
col_myp337	0	index_27	2	$ix_t27_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	27	null	YES	BTREE			YES
col_myp337	0	index_27	3	$ix_i27_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_27	4	$ix_i27_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_27	5	$ix_bt27_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	27	null		BTREE			YES
col_myp337	0	index_27	6	$ix_bt27_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	27	null	YES	BTREE			YES
col_myp337	0	index_28	1	$ix_t28_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	28	null		BTREE			YES
col_myp337	0	index_28	2	$ix_t28_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	28	null	YES	BTREE			YES
col_myp337	0	index_28	3	$ix_i28_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_28	4	$ix_i28_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_28	5	$ix_bt28_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	28	null		BTREE			YES
col_myp337	0	index_28	6	$ix_bt28_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	28	null	YES	BTREE			YES
col_myp337	0	index_29	1	$ix_t29_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	29	null		BTREE			YES
col_myp337	0	index_29	2	$ix_t29_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	29	null	YES	BTREE			YES
col_myp337	0	index_29	3	$ix_i29_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_29	4	$ix_i29_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_29	5	$ix_bt29_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	29	null		BTREE			YES
col_myp337	0	index_29	6	$ix_bt29_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	29	null	YES	BTREE			YES
0 rows affected
RUN SHOW INDEX from xplugintest.col_myp337 where Key_name rlike '^index_[34][0-9]*'
Table	Non_unique	Key_name	Seq_in_index	Column_name	Collation	Cardinality	Sub_part	Packed	Null	Index_type	Comment	Index_comment	Visible
col_myp337	0	index_30	1	$ix_t30_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	30	null		BTREE			YES
col_myp337	0	index_30	2	$ix_t30_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	30	null	YES	BTREE			YES
col_myp337	0	index_30	3	$ix_i30_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_30	4	$ix_i30_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_30	5	$ix_bt30_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	30	null		BTREE			YES
col_myp337	0	index_30	6	$ix_bt30_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	30	null	YES	BTREE			YES
col_myp337	0	index_31	1	$ix_t31_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	31	null		BTREE			YES
col_myp337	0	index_31	2	$ix_t31_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	31	null	YES	BTREE			YES
col_myp337	0	index_31	3	$ix_i31_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_31	4	$ix_i31_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_31	5	$ix_bt31_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	31	null		BTREE			YES
col_myp337	0	index_31	6	$ix_bt31_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	31	null	YES	BTREE			YES
col_myp337	0	index_32	1	$ix_t32_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	32	null		BTREE			YES
col_myp337	0	index_32	2	$ix_t32_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	32	null	YES	BTREE			YES
col_myp337	0	index_32	3	$ix_i32_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_32	4	$ix_i32_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_32	5	$ix_bt32_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	32	null		BTREE			YES
col_myp337	0	index_32	6	$ix_bt32_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	32	null	YES	BTREE			YES
col_myp337	0	index_33	1	$ix_t33_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	33	null		BTREE			YES
col_myp337	0	index_33	2	$ix_t33_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	33	null	YES	BTREE			YES
col_myp337	0	index_33	3	$ix_i33_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_33	4	$ix_i33_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_33	5	$ix_bt33_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	33	null		BTREE			YES
col_myp337	0	index_33	6	$ix_bt33_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	33	null	YES	BTREE			YES
col_myp337	0	index_34	1	$ix_t34_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	34	null		BTREE			YES
col_myp337	0	index_34	2	$ix_t34_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	34	null	YES	BTREE			YES
col_myp337	0	index_34	3	$ix_i34_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_34	4	$ix_i34_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_34	5	$ix_bt34_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	34	null		BTREE			YES
col_myp337	0	index_34	6	$ix_bt34_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	34	null	YES	BTREE			YES
col_myp337	0	index_35	1	$ix_t35_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	35	null		BTREE			YES
col_myp337	0	index_35	2	$ix_t35_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	35	null	YES	BTREE			YES
col_myp337	0	index_35	3	$ix_i35_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_35	4	$ix_i35_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_35	5	$ix_bt35_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	35	null		BTREE			YES
col_myp337	0	index_35	6	$ix_bt35_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	35	null	YES	BTREE			YES
col_myp337	0	index_36	1	$ix_t36_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	36	null		BTREE			YES
col_myp337	0	index_36	2	$ix_t36_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	36	null	YES	BTREE			YES
col_myp337	0	index_36	3	$ix_i36_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_36	4	$ix_i36_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_36	5	$ix_bt36_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	36	null		BTREE			YES
col_myp337	0	index_36	6	$ix_bt36_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	36	null	YES	BTREE			YES
col_myp337	0	index_37	1	$ix_t37_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	37	null		BTREE			YES
col_myp337	0	index_37	2	$ix_t37_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	37	null	YES	BTREE			YES
col_myp337	0	index_37	3	$ix_i37_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_37	4	$ix_i37_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_37	5	$ix_bt37_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	37	null		BTREE			YES
col_myp337	0	index_37	6	$ix_bt37_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	37	null	YES	BTREE			YES
col_myp337	0	index_38	1	$ix_t38_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	38	null		BTREE			YES
col_myp337	0	index_38	2	$ix_t38_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	38	null	YES	BTREE			YES
col_myp337	0	index_38	3	$ix_i38_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_38	4	$ix_i38_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_38	5	$ix_bt38_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	38	null		BTREE			YES
col_myp337	0	index_38	6	$ix_bt38_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	38	null	YES	BTREE			YES
col_myp337	0	index_39	1	$ix_t39_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	39	null		BTREE			YES
col_myp337	0	index_39	2	$ix_t39_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	39	null	YES	BTREE			YES
col_myp337	0	index_39	3	$ix_i39_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_39	4	$ix_i39_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_39	5	$ix_bt39_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	39	null		BTREE			YES
col_myp337	0	index_39	6	$ix_bt39_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	39	null	YES	BTREE			YES
col_myp337	0	index_40	1	$ix_t40_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	40	null		BTREE			YES
col_myp337	0	index_40	2	$ix_t40_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	40	null	YES	BTREE			YES
col_myp337	0	index_40	3	$ix_i40_r_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null		BTREE			YES
col_myp337	0	index_40	4	$ix_i40_8870EF04DBC5C827B87C34BF582F39442A78BBD9	A	0	null	null	YES	BTREE			YES
col_myp337	0	index_40	5	$ix_bt40_r_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	40	null		BTREE			YES
col_myp337	0	index_40	6	$ix_bt40_7ED2EEDDC197ED77968204C8668FFC142B3F8878	A	0	40	null	YES	BTREE			YES
0 rows affected
Mysqlx.Ok {
  msg: "bye!"
}
ok
RUN DROP DATABASE IF EXISTS xplugintest

4 rows affected
RUN DROP DATABASE IF EXISTS xplugintest_1

0 rows affected
Mysqlx.Ok {
  msg: "bye!"
}
ok
