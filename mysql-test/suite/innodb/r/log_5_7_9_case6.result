# Create an empty data directory...
# Unzip 5_7_9_clean.zip to the created directory...
# Kill the server
############################################################################################
# Case 6: Attempt to start on redo files with corrupted checkpoint header.
# 6A: InnoDB refuses to start if both checkpoint headers are corrupted.
# 6B: InnoDB successfully starts if one of checkpoint headers (older) is corrupted.
############################################################################################
# Save the ib_logfile0...
# Case 6A: Start MySQL... (attempt 1)
# Verify...
Pattern "Upgrading redo log: .*, LSN=" not found
Pattern "innodb-unknown-compound-v" not found
# Case 6A: Start MySQL... (attempt 2)
# Verify...
Pattern "Upgrading redo log: .*, LSN=" not found
Pattern "innodb-unknown-compound-v" not found
# Restore the saved ib_logfile0...
############################################################################################
# Corrupt one of checkpoint headers (with older checkpoint_lsn)...
# Case 6B: Start MySQL... (attempt 1)
# Verify...
Pattern "Upgrading redo log: .*, LSN=" found
Pattern "innodb-unknown-compound-v" found
# Case 6B: Start MySQL... (attempt 2)
# Verify...
Pattern "Upgrading redo log: .*, LSN=" not found
Pattern "innodb-unknown-compound-v" found
############################################################################################
# Cleanup...
# restart
