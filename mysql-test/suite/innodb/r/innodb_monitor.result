select * from information_schema.innodb_metrics;
name	subsystem	value_since_start	max_since_start	min_since_start	avg_since_start	value_since_reset	max_since_reset	min_since_reset	avg_since_reset	start_time	stop_time	reset_time	status	type	description
server_table_open	Server Metadata	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of table handler opened
server_table_close	Server Metadata	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of table handler closed
lock_deadlock_count	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of deadlocks
lock_timeout	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of lock timeout
lock_lockrec_wait	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of times wait for record lock
lock_lockrec_request	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of record lock requested
lock_lockrec_created	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of record lock created
lock_lockrec_removed	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of record lock destroyed
lock_num_lockrec	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Total number of record locks
lock_tablelock_created	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of table locks created
lock_tablelock_removed	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of table lock destroyed
lock_num_tablelock	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Total number of table locks
lock_row_lock_current_wait	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Current row lock wait
lock_row_lock_wait_time	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Time waited for lock acquisition
lock_row_lock_wait	Lock	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Total row lock waits
buffer_reads	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of reads from disk
buffer_read_request	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of read requests
buffer_write_request	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of write requests
buffer_page_in_flush	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pages in flush list
buffer_wait_free	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of times wait for free buffer
buffer_read_ahead	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pages read as read ahead
buffer_read_ahead_evict	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Read ahead pages evicted without being accessed
buffer_pool_total_page	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Total buffer pool pages
buffer_pool_page_misc	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Buffer pages for misc use
buffer_pool_page_data	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Buffer pages contain data
buffer_pool_page_dirty	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Buffer pages currently dirty
buffer_pool_page_free	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Buffer pages currently free
buffer_page_created	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pages created
buffer_page_written	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pages written
buffer_page_read	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pages read
buffer_byte_read	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Amount data read in bytes
buffer_byte_written	Buffer	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Amount data written in bytes
os_num_reads	OS	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of reads initiated
os_num_writes	OS	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of writes inititated
os_num_fsync	OS	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of fsync() call
os_num_pending_reads	OS	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of reads pending
os_num_pending_writes	OS	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of writes pending
os_log_byte_written	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Bytes of log written
os_log_fsync	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of fsync log writes
os_log_pending_fsync	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pending fsync write
os_log_pending_write	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of pending log file writes
trx_num_commit	Transaction	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of transactions committed
trx_num_abort	Transaction	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of transactions aborted
trx_active_trx	Transaction	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of active transactions
trx_num_row_purged	Transaction	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of rows purged
trx_purge_delay	DML	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	microseconds DML to be delayed due to purge lagging
trx_rseg_history_len	Transaction	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Length of the TRX_RSEG_HISTORY list
log_num_checkpoint	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of checkpoints
log_lsn_last_flush	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Last flush's LSN
log_lsn_last_checkpoint	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	LSN at last checkpoint
log_current_lsn	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Current LSN value
log_pending_log_write	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Pending Log Writes
log_pending_checkpoint	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Pending Checkpoints
log_num_log_io	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of log I/Os
log_waits	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of log waits due to small log buffer
log_write_request	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of log write requests
log_writes	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of log writes
log_flush_io_capacity	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	current_value	Percent of Server IO capacity during flushing
log_flush_dirty_page_exceed	Recovery	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of flush calls when the max dirty page pct was hit
compress_num_page_compressed	Compression	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of page compressed
compress_num_page_decompressed	Compression	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of page decompressed
index_num_split	Index	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of index split
index_num_merge	Index	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of index merge
dml_num_reads	DML	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of rows read
dml_num_inserts	DML	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of rows inserted
dml_num_deletes	DML	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of rows deleted
dml_updates	DML	0	NULL	NULL	NULL	0	NULL	NULL	NULL	NULL	NULL	NULL	stopped	counter_value	Number of rows updated
select name, status from information_schema.innodb_metrics;
name	status
server_table_open	stopped
server_table_close	stopped
lock_deadlock_count	stopped
lock_timeout	stopped
lock_lockrec_wait	stopped
lock_lockrec_request	stopped
lock_lockrec_created	stopped
lock_lockrec_removed	stopped
lock_num_lockrec	stopped
lock_tablelock_created	stopped
lock_tablelock_removed	stopped
lock_num_tablelock	stopped
lock_row_lock_current_wait	stopped
lock_row_lock_wait_time	stopped
lock_row_lock_wait	stopped
buffer_reads	stopped
buffer_read_request	stopped
buffer_write_request	stopped
buffer_page_in_flush	stopped
buffer_wait_free	stopped
buffer_read_ahead	stopped
buffer_read_ahead_evict	stopped
buffer_pool_total_page	stopped
buffer_pool_page_misc	stopped
buffer_pool_page_data	stopped
buffer_pool_page_dirty	stopped
buffer_pool_page_free	stopped
buffer_page_created	stopped
buffer_page_written	stopped
buffer_page_read	stopped
buffer_byte_read	stopped
buffer_byte_written	stopped
os_num_reads	stopped
os_num_writes	stopped
os_num_fsync	stopped
os_num_pending_reads	stopped
os_num_pending_writes	stopped
os_log_byte_written	stopped
os_log_fsync	stopped
os_log_pending_fsync	stopped
os_log_pending_write	stopped
trx_num_commit	stopped
trx_num_abort	stopped
trx_active_trx	stopped
trx_num_row_purged	stopped
trx_purge_delay	stopped
trx_rseg_history_len	stopped
log_num_checkpoint	stopped
log_lsn_last_flush	stopped
log_lsn_last_checkpoint	stopped
log_current_lsn	stopped
log_pending_log_write	stopped
log_pending_checkpoint	stopped
log_num_log_io	stopped
log_waits	stopped
log_write_request	stopped
log_writes	stopped
log_flush_io_capacity	stopped
log_flush_dirty_page_exceed	stopped
compress_num_page_compressed	stopped
compress_num_page_decompressed	stopped
index_num_split	stopped
index_num_merge	stopped
dml_num_reads	stopped
dml_num_inserts	stopped
dml_num_deletes	stopped
dml_updates	stopped
set global innodb_monitor_counter_on = all;
select name, status from information_schema.innodb_metrics;
name	status
server_table_open	started
server_table_close	started
lock_deadlock_count	started
lock_timeout	started
lock_lockrec_wait	started
lock_lockrec_request	started
lock_lockrec_created	started
lock_lockrec_removed	started
lock_num_lockrec	started
lock_tablelock_created	started
lock_tablelock_removed	started
lock_num_tablelock	started
lock_row_lock_current_wait	started
lock_row_lock_wait_time	started
lock_row_lock_wait	started
buffer_reads	started
buffer_read_request	started
buffer_write_request	started
buffer_page_in_flush	started
buffer_wait_free	started
buffer_read_ahead	started
buffer_read_ahead_evict	started
buffer_pool_total_page	started
buffer_pool_page_misc	started
buffer_pool_page_data	started
buffer_pool_page_dirty	started
buffer_pool_page_free	started
buffer_page_created	started
buffer_page_written	started
buffer_page_read	started
buffer_byte_read	started
buffer_byte_written	started
os_num_reads	started
os_num_writes	started
os_num_fsync	started
os_num_pending_reads	started
os_num_pending_writes	started
os_log_byte_written	started
os_log_fsync	started
os_log_pending_fsync	started
os_log_pending_write	started
trx_num_commit	started
trx_num_abort	started
trx_active_trx	started
trx_num_row_purged	started
trx_purge_delay	started
trx_rseg_history_len	started
log_num_checkpoint	started
log_lsn_last_flush	started
log_lsn_last_checkpoint	started
log_current_lsn	started
log_pending_log_write	started
log_pending_checkpoint	started
log_num_log_io	started
log_waits	started
log_write_request	started
log_writes	started
log_flush_io_capacity	started
log_flush_dirty_page_exceed	started
compress_num_page_compressed	started
compress_num_page_decompressed	started
index_num_split	started
index_num_merge	started
dml_num_reads	started
dml_num_inserts	started
dml_num_deletes	started
dml_updates	started
set global innodb_monitor_counter_on = aaa;
ERROR 42000: Variable 'innodb_monitor_counter_on' can't be set to the value of 'aaa'
set global innodb_monitor_counter_off = All;
select name, status from information_schema.innodb_metrics;
name	status
server_table_open	stopped
server_table_close	stopped
lock_deadlock_count	stopped
lock_timeout	stopped
lock_lockrec_wait	stopped
lock_lockrec_request	stopped
lock_lockrec_created	stopped
lock_lockrec_removed	stopped
lock_num_lockrec	stopped
lock_tablelock_created	stopped
lock_tablelock_removed	stopped
lock_num_tablelock	stopped
lock_row_lock_current_wait	stopped
lock_row_lock_wait_time	stopped
lock_row_lock_wait	stopped
buffer_reads	stopped
buffer_read_request	stopped
buffer_write_request	stopped
buffer_page_in_flush	stopped
buffer_wait_free	stopped
buffer_read_ahead	stopped
buffer_read_ahead_evict	stopped
buffer_pool_total_page	stopped
buffer_pool_page_misc	stopped
buffer_pool_page_data	stopped
buffer_pool_page_dirty	stopped
buffer_pool_page_free	stopped
buffer_page_created	stopped
buffer_page_written	stopped
buffer_page_read	stopped
buffer_byte_read	stopped
buffer_byte_written	stopped
os_num_reads	stopped
os_num_writes	stopped
os_num_fsync	stopped
os_num_pending_reads	stopped
os_num_pending_writes	stopped
os_log_byte_written	stopped
os_log_fsync	stopped
os_log_pending_fsync	stopped
os_log_pending_write	stopped
trx_num_commit	stopped
trx_num_abort	stopped
trx_active_trx	stopped
trx_num_row_purged	stopped
trx_purge_delay	stopped
trx_rseg_history_len	stopped
log_num_checkpoint	stopped
log_lsn_last_flush	stopped
log_lsn_last_checkpoint	stopped
log_current_lsn	stopped
log_pending_log_write	stopped
log_pending_checkpoint	stopped
log_num_log_io	stopped
log_waits	stopped
log_write_request	stopped
log_writes	stopped
log_flush_io_capacity	stopped
log_flush_dirty_page_exceed	stopped
compress_num_page_compressed	stopped
compress_num_page_decompressed	stopped
index_num_split	stopped
index_num_merge	stopped
dml_num_reads	stopped
dml_num_inserts	stopped
dml_num_deletes	stopped
dml_updates	stopped
set global innodb_monitor_counter_reset_all = all;
select name, value_since_start, status from information_schema.innodb_metrics;
name	value_since_start	status
server_table_open	0	stopped
server_table_close	0	stopped
lock_deadlock_count	0	stopped
lock_timeout	0	stopped
lock_lockrec_wait	0	stopped
lock_lockrec_request	0	stopped
lock_lockrec_created	0	stopped
lock_lockrec_removed	0	stopped
lock_num_lockrec	0	stopped
lock_tablelock_created	0	stopped
lock_tablelock_removed	0	stopped
lock_num_tablelock	0	stopped
lock_row_lock_current_wait	0	stopped
lock_row_lock_wait_time	0	stopped
lock_row_lock_wait	0	stopped
buffer_reads	0	stopped
buffer_read_request	0	stopped
buffer_write_request	0	stopped
buffer_page_in_flush	0	stopped
buffer_wait_free	0	stopped
buffer_read_ahead	0	stopped
buffer_read_ahead_evict	0	stopped
buffer_pool_total_page	0	stopped
buffer_pool_page_misc	0	stopped
buffer_pool_page_data	0	stopped
buffer_pool_page_dirty	0	stopped
buffer_pool_page_free	0	stopped
buffer_page_created	0	stopped
buffer_page_written	0	stopped
buffer_page_read	0	stopped
buffer_byte_read	0	stopped
buffer_byte_written	0	stopped
os_num_reads	0	stopped
os_num_writes	0	stopped
os_num_fsync	0	stopped
os_num_pending_reads	0	stopped
os_num_pending_writes	0	stopped
os_log_byte_written	0	stopped
os_log_fsync	0	stopped
os_log_pending_fsync	0	stopped
os_log_pending_write	0	stopped
trx_num_commit	0	stopped
trx_num_abort	0	stopped
trx_active_trx	0	stopped
trx_num_row_purged	0	stopped
trx_purge_delay	0	stopped
trx_rseg_history_len	0	stopped
log_num_checkpoint	0	stopped
log_lsn_last_flush	0	stopped
log_lsn_last_checkpoint	0	stopped
log_current_lsn	0	stopped
log_pending_log_write	0	stopped
log_pending_checkpoint	0	stopped
log_num_log_io	0	stopped
log_waits	0	stopped
log_write_request	0	stopped
log_writes	0	stopped
log_flush_io_capacity	0	stopped
log_flush_dirty_page_exceed	0	stopped
compress_num_page_compressed	0	stopped
compress_num_page_decompressed	0	stopped
index_num_split	0	stopped
index_num_merge	0	stopped
dml_num_reads	0	stopped
dml_num_inserts	0	stopped
dml_num_deletes	0	stopped
dml_updates	0	stopped
set global innodb_monitor_counter_on = server_table_open;
create table monitor_test(col int) engine = innodb;
select * from monitor_test;
col
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	1	NULL	1	1	NULL	1	started
set global innodb_monitor_counter_reset = server_table_open;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	1	NULL	1	NULL	NULL	0	started
drop table monitor_test;
create table monitor_test(col int) engine = innodb;
select * from monitor_test;
col
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	2	NULL	2	1	NULL	1	started
set global innodb_monitor_counter_reset_all = server_table_open;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	2	NULL	2	1	NULL	1	started
set global innodb_monitor_counter_off = server_table_open;
set global innodb_monitor_counter_reset = server_table_open;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	2	NULL	2	NULL	NULL	0	stopped
drop table monitor_test;
create table monitor_test(col int) engine = innodb;
select * from monitor_test;
col
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	2	NULL	2	NULL	NULL	0	stopped
set global innodb_monitor_counter_reset_all = server_table_open;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	NULL	NULL	0	NULL	NULL	0	stopped
set global innodb_monitor_counter_on = server_table_open;
drop table monitor_test;
create table monitor_test(col int) engine = innodb;
select * from monitor_test;
col
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_open";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	1	NULL	1	1	NULL	1	started
set global innodb_monitor_counter_on = server_table_close;
create index idx on monitor_test(col);
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name = "server_table_close";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_close	1	NULL	1	1	NULL	1	started
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "server%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	2	NULL	2	2	NULL	2	started
server_table_close	1	NULL	1	1	NULL	1	started
set global innodb_monitor_counter_off = module_server;
set global innodb_monitor_counter_reset = module_server;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "server%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	2	NULL	2	NULL	NULL	0	stopped
server_table_close	1	NULL	1	NULL	NULL	0	stopped
set global innodb_monitor_counter_reset_all = module_server;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "server%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
server_table_open	NULL	NULL	0	NULL	NULL	0	stopped
server_table_close	NULL	NULL	0	NULL	NULL	0	stopped
set global innodb_monitor_counter_on = module_trx;
begin;
insert into monitor_test values(9);
commit;
begin;
insert into monitor_test values(9);
rollback;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "trx_num_abort" or name like "trx_active_trx";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
trx_num_abort	1	NULL	1	1	NULL	1	started
trx_active_trx	1	0	0	1	0	0	started
set global innodb_monitor_counter_off = module_trx;
set global innodb_monitor_counter_on = module_dml;
insert into monitor_test values(9);
update monitor_test set col = 10 where col = 9;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	4	NULL	4	4	NULL	4	started
dml_num_inserts	1	NULL	1	1	NULL	1	started
dml_num_deletes	0	NULL	0	0	NULL	0	started
dml_updates	2	NULL	2	2	NULL	2	started
delete from monitor_test;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	6	NULL	6	6	NULL	6	started
dml_num_inserts	1	NULL	1	1	NULL	1	started
dml_num_deletes	2	NULL	2	2	NULL	2	started
dml_updates	2	NULL	2	2	NULL	2	started
set global innodb_monitor_counter_reset =  module_dml;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	6	NULL	6	0	NULL	0	started
dml_num_inserts	1	NULL	1	0	NULL	0	started
dml_num_deletes	2	NULL	2	0	NULL	0	started
dml_updates	2	NULL	2	0	NULL	0	started
insert into monitor_test values(9);
insert into monitor_test values(1);
delete from monitor_test;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	8	NULL	8	2	NULL	2	started
dml_num_inserts	3	NULL	3	2	NULL	2	started
dml_num_deletes	4	NULL	4	2	NULL	2	started
dml_updates	2	NULL	2	0	NULL	0	started
set global innodb_monitor_counter_reset_all  =  module_dml;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	8	NULL	8	2	NULL	2	started
dml_num_inserts	3	NULL	3	2	NULL	2	started
dml_num_deletes	4	NULL	4	2	NULL	2	started
dml_updates	2	NULL	2	0	NULL	0	started
set global innodb_monitor_counter_off = module_dml;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	8	NULL	8	2	NULL	2	stopped
dml_num_inserts	3	NULL	3	2	NULL	2	stopped
dml_num_deletes	4	NULL	4	2	NULL	2	stopped
dml_updates	2	NULL	2	0	NULL	0	stopped
set global innodb_monitor_counter_reset_all  = module_dml;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	NULL	NULL	0	NULL	NULL	0	stopped
dml_num_inserts	NULL	NULL	0	NULL	NULL	0	stopped
dml_num_deletes	NULL	NULL	0	NULL	NULL	0	stopped
dml_updates	NULL	NULL	0	NULL	NULL	0	stopped
set global innodb_monitor_counter_on = dml_num_inserts;
insert into monitor_test values(9);
insert into monitor_test values(1);
delete from monitor_test;
select name, max_since_start, min_since_start, value_since_start,
max_since_reset, min_since_reset, value_since_reset, status
from information_schema.innodb_metrics
where name like "dml%";
name	max_since_start	min_since_start	value_since_start	max_since_reset	min_since_reset	value_since_reset	status
dml_num_reads	NULL	NULL	0	NULL	NULL	0	stopped
dml_num_inserts	2	NULL	2	2	NULL	2	started
dml_num_deletes	NULL	NULL	0	NULL	NULL	0	stopped
dml_updates	NULL	NULL	0	NULL	NULL	0	stopped
set global innodb_monitor_counter_off = module_dml;
drop table monitor_test;
set global innodb_monitor_counter_on = default;
set global innodb_monitor_counter_off = default;
set global innodb_monitor_counter_reset = default;
set global innodb_monitor_counter_reset_all = default;
