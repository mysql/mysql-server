--source include/have_innodb_max_16k.inc

--echo #
--echo # Bug #27368662 	PAGE_TYPE == FIL_PAGE_TYPE_ZLOB_FIRST LOB::Z_READ
--echo #

CREATE TABLE `ibstd_10_g` (
  `a` int(11) NOT NULL,
  `d` int(11) NOT NULL,
  `b` varchar(198) NOT NULL,
  `c` char(88) DEFAULT NULL,
  `vadcol` int(11) GENERATED ALWAYS AS ((`a` + length(`d`))) STORED,
  `vbcol` char(2) GENERATED ALWAYS AS (substr(`b`,2,2)) VIRTUAL,
  `vbidxcol` char(3) GENERATED ALWAYS AS (substr(`b`,1,3)) VIRTUAL,
  `pkey` int(11) NOT NULL AUTO_INCREMENT,
  `leader` int(11) NOT NULL,
  `leaderpoint` point NOT NULL,
  `invariant` int(11) NOT NULL,
  `offset1` int(11) NOT NULL,
  `offset2` int(11) NOT NULL,
  `linestr` linestring NOT NULL,
  `pkeypoint` point NOT NULL,
  `geom` geometry NOT NULL,
  `poly` polygon NOT NULL,
  `mpoint` multipoint DEFAULT NULL,
  `mls` multilinestring DEFAULT NULL,
  `mpoly` multipolygon DEFAULT NULL,
  `mgeom` geometrycollection DEFAULT NULL,
  `fpoint` point DEFAULT NULL,
  `fipoint` point NOT NULL,
  `fls` linestring DEFAULT NULL,
  `fils` linestring NOT NULL,
  `fpoly` polygon DEFAULT NULL,
  `fipoly` polygon NOT NULL,
  PRIMARY KEY (`pkey`),
  KEY `leader` (`leader`),
  SPATIAL KEY `leaderpoint` (`leaderpoint`),
  SPATIAL KEY `linestr` (`linestr`),
  KEY `pkeypoint` (`pkeypoint`),
  SPATIAL KEY `fils` (`fils`),
  SPATIAL KEY `fipoint` (`fipoint`),
  SPATIAL KEY `fipoly` (`fipoly`),
  SPATIAL KEY `geom` (`geom`),
  SPATIAL KEY `poly` (`poly`),
  KEY `d` (`d`),
  KEY `a` (`a`),
  KEY `vbidxcol` (`vbidxcol`),
  KEY `vbidxcol_2` (`vbidxcol`,`d`)
) /*!50100 TABLESPACE `innodb_file_per_table` */ ENGINE=InnoDB AUTO_INCREMENT=156 DEFAULT CHARSET=utf8mb4 STATS_PERSISTENT=0 ROW_FORMAT=COMPRESSED KEY_BLOCK_SIZE=1;

INSERT INTO `ibstd_10_g` (`a`, `d`, `b`, `c`, `pkey`, `leader`, `leaderpoint`, `invariant`, `offset1`, `offset2`, `linestr`, `pkeypoint`, `geom`, `poly`, `mpoint`, `mls`, `mpoly`, `mgeom`, `fpoint`, `fipoint`, `fls`, `fils`, `fpoly`, `fipoly`) VALUES (622,1,'bbb0.863907150322024','c0.333510577976678',1,1,0x000000000101000000000000000000F03F000000000000F03F,1,0,0,0x0000000001020000000A00000000000000002069C000000000008887C000000000006068C000000000008087C000000000002068C000000000006887C00000000000A067C000000000004087C000000000008067C000000000003087C00000000000CCB24000000000003087C00000000000CFB24000000000001887C00000000000D0B24000000000000887C00000000000D5B2400000000000E086C00000000000D5B2400000000000E886C0,0x000000000101000000000000000000F03F000000000000F03F,0x0000000001020000000600000000000000002069C000000000008887C000000000006068C000000000008087C000000000002068C000000000006887C00000000000A067C000000000004087C000000000008067C000000000003087C00000000000CCB24000000000003087C0,0x000000000103000000010000000500000000000000002069C000000000008887C00000000000D5B24000000000008887C00000000000D5B2400000000000E086C000000000002069C00000000000E086C000000000002069C000000000008887C0,0x00000000010400000003000000010100000000000000002069C000000000008887C001010000000000000000000000000000000000000001010000000000000000D5B2400000000000E886C0,0x0000000001050000000200000001020000000500000000000000002069C000000000008887C00000000000D5B24000000000008887C00000000000D5B2400000000000E086C000000000002069C00000000000E086C000000000002069C000000000008887C001020000000A00000000000000002069C000000000008887C000000000006068C000000000008087C000000000002068C000000000006887C00000000000A067C000000000004087C000000000008067C000000000003087C00000000000CCB24000000000003087C00000000000CFB24000000000001887C00000000000D0B24000000000000887C00000000000D5B2400000000000E086C00000000000D5B2400000000000E886C0,0x000000000106000000020000000103000000010000000500000000000000002069C000000000008887C00000000000D5B24000000000008887C00000000000D5B2400000000000E086C000000000002069C00000000000E086C000000000002069C000000000008887C00103000000010000000500000000000000002069C000000000008887C00000000000CCB24000000000008887C00000000000CCB24000000000003087C000000000002069C000000000003087C000000000002069C000000000008887C0,0x000000000107000000040000000101000000000000000000F03F000000000000F03F010400000003000000010100000000000000002069C000000000008887C001010000000000000000000000000000000000000001010000000000000000D5B2400000000000E886C00103000000010000000500000000000000002069C000000000008887C00000000000D5B24000000000008887C00000000000D5B2400000000000E086C000000000002069C00000000000E086C000000000002069C000000000008887C0010400000003000000010100000000000000002069C000000000008887C001010000000000000000000000000000000000000001010000000000000000D5B2400000000000E886C0,0x0000000001010000000000000000A886C00000000000006240,0x0000000001010000000000000000E077400000000000D88740,0x0000000001020000000600000000000000000063C000000000000036400000000000C062C00000000000003A400000000000A062C00000000000003C4000000000008062C00000000000003C4000000000000062C0000000000078AF4000000000000062C0000000000080AF40,0x0000000001020000000400000000000000007087C00000000000B08BC000000000006087C00000000000D08BC000000000007887C00000000000C08BC000000000005087C00000000000B08BC0,0x000000000103000000010000000500000000000000004887C00000000000E0804000000000000887C00000000000E0804000000000000887C0000000000040814000000000004887C0000000000040814000000000004887C00000000000E08040,0x00000000010300000001000000050000000000000000C07AC00000000000C069400000000000F079C00000000000C069400000000000F079C00000000000006B400000000000C07AC00000000000006B400000000000C07AC00000000000C06940);

update ibstd_10_g set  fpoint = st_pointfromtext('point(-186 -55)'), fipoint = st_pointfromtext('point(-418 334)'), fls = st_linefromtext(concat('linestring','(-310 -121,-306 -119,-301 -114)')), fils = st_linefromtext(concat('linestring','(-198 137,-193 2138,-194 2139)')), fpoly = st_envelope(st_linefromtext(concat('linestring','(-616 -892,-612 -891,-613 -1891,-610 -1891,-614 -1890,-614 -1890,-619 -1890)'))), fipoly = st_envelope(st_linefromtext(concat('linestring','(101 -364,102 -367,103 -363,105 -359,101 -358,103 -356,99 -351,95 -351,96 -346,93 -349)'))) where pkey = 1;

drop table ibstd_10_g;
