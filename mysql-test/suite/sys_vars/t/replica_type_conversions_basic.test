

set @saved_replica_type_conversions = @@global.replica_type_conversions;

SELECT @@global.replica_type_conversions;
SET GLOBAL REPLICA_TYPE_CONVERSIONS='';
SELECT @@global.replica_type_conversions;

SET GLOBAL REPLICA_TYPE_CONVERSIONS='ALL_NON_LOSSY';
SELECT @@global.replica_type_conversions;

SET GLOBAL REPLICA_TYPE_CONVERSIONS='ALL_LOSSY';
SELECT @@global.replica_type_conversions;

SET GLOBAL REPLICA_TYPE_CONVERSIONS='ALL_LOSSY,ALL_NON_LOSSY';
SELECT @@global.replica_type_conversions;

# checking that setting variable to a non existing value raises error
--error ER_WRONG_VALUE_FOR_VAR
SET GLOBAL REPLICA_TYPE_CONVERSIONS='ALL_LOSSY,ALL_NON_LOSSY,NONEXISTING_BIT';
SELECT @@global.replica_type_conversions;

set global replica_type_conversions = @saved_replica_type_conversions;
