#
# WL#6501: make truncate table atomic
#

# TC tries to hit crash point during truncate of
# non-compressed non-temp table residing in single tablespace.
# with row_format=compact

--source include/have_innodb.inc
--source include/have_innodb_zip.inc
--source include/have_debug.inc

# Non-Compressed/Compact/Single-Tablespace
let $wl6501_file_per_table = 1;
let $wl6501_row_fmt = compact;
let $wl6501_kbs = 16;
let $wl6501_file_format = 'Antelope';
--source suite/innodb_zip/include/innodb_wl6501_error.inc

# Non-Compressed/Compact/System-Tablespace
let $wl6501_file_per_table = 0;
let $wl6501_row_fmt = compact;
let $wl6501_kbs = 16;
let $wl6501_file_format = 'Antelope';
--source suite/innodb_zip/include/innodb_wl6501_error.inc

# Compressed/Compressed/Single-Tablespace/4K
let $wl6501_file_per_table = 1;
let $wl6501_row_fmt = compressed;
let $wl6501_kbs = 4;
let $wl6501_file_format = 'Barracuda';
--source suite/innodb_zip/include/innodb_wl6501_error.inc

# Compressed/Compressed/Single-Tablespace/8K
let $wl6501_file_per_table = 1;
let $wl6501_row_fmt = compressed;
let $wl6501_kbs = 8;
let $wl6501_file_format = 'Barracuda';
--source suite/innodb_zip/include/innodb_wl6501_error.inc

# Compressed/Compressed/Single-Tablespace/16K
let $wl6501_file_per_table = 1;
let $wl6501_row_fmt = compressed;
let $wl6501_kbs = 16;
let $wl6501_file_format = 'Barracuda';
--source suite/innodb_zip/include/innodb_wl6501_error.inc

