include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information.
[connection master]
# Test non-transaction
create table t1(a int, b int) engine= myisam;
insert into t1(a,b) values(1,1),(2,1);
update t1 set a = a + 5 where b = 1 LIMIT 1;
delete from t1 where a = 6;
# Test transaction
create table t2(a int, b int) engine=innodb;
begin;
insert into t2(a,b) values(2,1),(3,1);
update t2 set a = a + 5 where b = 1;
delete from t2 where a = 7;
commit;
# Test mixed transaction
begin;
insert into t1(a,b) values(1,5);
insert into t2(a,b) values(2,5);
insert into t2(a,b) values(2,6);
insert into t1(a,b) values(1,7);
commit;
drop table t1, t2;
create table t3(a int, b int) engine= myisam;
create table t4(a int, b int) engine= myisam;
create table t5(a int, b int) engine= myisam;
insert into t3(a, b) values(1,1);
# Test the Rows_query log event will be filtered out if slave applys
# '--replicate-ignore-table' option on the table
insert into t4(a, b) values(2,1);
# Test the Rows_query log event will be relayed if slave
# filters out part Rows event from a rows statement
update t3,t4 set t3.a=3, t4.a=4 where t3.b=t4.b;
# Test the Rows_query log event will be filtered out if slave applys
# '--replicate-wild-ignore-table' option on the table
insert into t5(a, b) values(3,1);
# Test the Rows_query log event will be filtered out if slave filters
# out all its related tables by replication filtering rules
update t4,t5 set t4.a=4, t5.a=5 where t4.b=t5.b;
FLUSH TABLES;
# Test load data infile
create table t6(a VARCHAR(60)) engine= myisam;
load data infile '../../std_data/words.dat' into table t6;
drop table t3, t6;
drop table t4, t5;
# SHOW BINLOG EVENTS ON MASTER before '--exec MYSQL_BINLOG'
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Query	#	#	use `test`; create table t1(a int, b int) engine= myisam
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,1),(2,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# update t1 set a = a + 5 where b = 1 LIMIT 1
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# delete from t1 where a = 6
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	use `test`; create table t2(a int, b int) engine=innodb
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,1),(3,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Rows_query	#	#	# update t2 set a = a + 5 where b = 1
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Rows_query	#	#	# delete from t2 where a = 7
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Xid	#	#	COMMIT /* XID */
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,5)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,7)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,5)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,6)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Xid	#	#	COMMIT /* XID */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t1` /* generated by server */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t2` /* generated by server */
master-bin.000001	#	Query	#	#	use `test`; create table t3(a int, b int) engine= myisam
master-bin.000001	#	Query	#	#	use `test`; create table t4(a int, b int) engine= myisam
master-bin.000001	#	Query	#	#	use `test`; create table t5(a int, b int) engine= myisam
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t3(a, b) values(1,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t4(a, b) values(2,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# update t3,t4 set t3.a=3, t4.a=4 where t3.b=t4.b
master-bin.000001	#	Table_map	#	#	table_id: # (test.t3)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
master-bin.000001	#	Update_rows	#	#	table_id: #
master-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t5(a, b) values(3,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# update t4,t5 set t4.a=4, t5.a=5 where t4.b=t5.b
master-bin.000001	#	Table_map	#	#	table_id: # (test.t4)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t5)
master-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	use `test`; FLUSH TABLES
master-bin.000001	#	Query	#	#	use `test`; create table t6(a VARCHAR(60)) engine= myisam
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# load data infile '../../std_data/words.dat' into table t6
master-bin.000001	#	Table_map	#	#	table_id: # (test.t6)
master-bin.000001	#	Write_rows	#	#	table_id: #
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t3` /* generated by server */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t6` /* generated by server */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t4` /* generated by server */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t5` /* generated by server */
FLUSH LOGS;
RESET MASTER;
# MYSQL_BINLOG output based on a saved copy of master-bin.000001
include/mysqlbinlog.inc
/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=1*/;
/*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*/;
DELIMITER /*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Start: binlog v #, server v # created # at startup
ROLLBACK/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Previous-GTIDs
# [empty]
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
use `test`/*!*/;
SET TIMESTAMP=#/*!*/;
SET @@session.pseudo_thread_id=#/*!*/;
SET @@session.foreign_key_checks=1, @@session.sql_auto_is_null=0, @@session.unique_checks=1, @@session.autocommit=1/*!*/;
SET @@session.sql_mode=1168113696/*!*/;
SET @@session.auto_increment_increment=1, @@session.auto_increment_offset=1/*!*/;
/*!\C utf8mb4 *//*!*/;
SET @@session.character_set_client=255,@@session.collation_connection=255,@@session.collation_server=255/*!*/;
SET @@session.lc_time_names=0/*!*/;
SET @@session.collation_database=DEFAULT/*!*/;
/*!80005 SET @@session.default_collation_for_utf8mb4=255*//*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
create table t1(a int, b int) engine= myisam
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t1(a,b) values(1,1),(2,1)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t1` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t1`
### SET
###   @1=1 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### INSERT INTO `test`.`t1`
### SET
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# update t1 set a = a + 5 where b = 1 LIMIT 1
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t1` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Update_rows: table id # flags: STMT_END_F
### UPDATE `test`.`t1`
### WHERE
###   @1=1 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### SET
###   @1=6 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# delete from t1 where a = 6
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t1` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Delete_rows: table id # flags: STMT_END_F
### DELETE FROM `test`.`t1`
### WHERE
###   @1=6 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0	Xid = #
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
create table t2(a int, b int) engine=innodb
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t2(a,b) values(2,1),(3,1)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t2` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t2`
### SET
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### INSERT INTO `test`.`t2`
### SET
###   @1=3 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# update t2 set a = a + 5 where b = 1
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t2` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Update_rows: table id # flags: STMT_END_F
### UPDATE `test`.`t2`
### WHERE
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### SET
###   @1=7 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### UPDATE `test`.`t2`
### WHERE
###   @1=3 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### SET
###   @1=8 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# delete from t2 where a = 7
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t2` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Delete_rows: table id # flags: STMT_END_F
### DELETE FROM `test`.`t2`
### WHERE
###   @1=7 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Xid = #
COMMIT/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t1(a,b) values(1,5)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t1` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t1`
### SET
###   @1=1 /* INT meta=0 nullable=1 is_null=0 */
###   @2=5 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t1(a,b) values(1,7)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t1` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t1`
### SET
###   @1=1 /* INT meta=0 nullable=1 is_null=0 */
###   @2=7 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t2(a,b) values(2,5)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t2` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t2`
### SET
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=5 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t2(a,b) values(2,6)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t2` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t2`
### SET
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=6 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Xid = #
COMMIT/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
DROP TABLE `t1` /* generated by server */
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0	Xid = #
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
DROP TABLE `t2` /* generated by server */
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
create table t3(a int, b int) engine= myisam
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
create table t4(a int, b int) engine= myisam
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
create table t5(a int, b int) engine= myisam
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t3(a, b) values(1,1)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t3` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t3`
### SET
###   @1=1 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t4(a, b) values(2,1)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t4` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t4`
### SET
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# update t3,t4 set t3.a=3, t4.a=4 where t3.b=t4.b
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t3` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t4` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Update_rows: table id #
# at #
# # server id #  end_log_pos # CRC32 # 	Update_rows: table id # flags: STMT_END_F
### UPDATE `test`.`t3`
### WHERE
###   @1=1 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### SET
###   @1=3 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### UPDATE `test`.`t4`
### WHERE
###   @1=2 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### SET
###   @1=4 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# insert into t5(a, b) values(3,1)
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t5` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t5`
### SET
###   @1=3 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# update t4,t5 set t4.a=4, t5.a=5 where t4.b=t5.b
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t4` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t5` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Update_rows: table id # flags: STMT_END_F
### UPDATE `test`.`t5`
### WHERE
###   @1=3 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
### SET
###   @1=5 /* INT meta=0 nullable=1 is_null=0 */
###   @2=1 /* INT meta=0 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
FLUSH TABLES
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
create table t6(a VARCHAR(60)) engine= myisam
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=yes	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*//*!*/;
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
BEGIN
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rows_query
# load data infile '../../std_data/words.dat' into table t6
# at #
# # server id #  end_log_pos # CRC32 # 	Table_map: `test`.`t6` mapped to number #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id #
# at #
# # server id #  end_log_pos # CRC32 # 	Write_rows: table id # flags: STMT_END_F
### INSERT INTO `test`.`t6`
### SET
###   @1='Aarhus' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Aaron' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Ababa' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='aback' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abaft' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandon' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandoned' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandoning' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandonment' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandons' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Aarhus' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Aaron' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Ababa' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='aback' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abaft' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandon' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandoned' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandoning' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandonment' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abandons' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abase' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abased' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abasement' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abasements' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abases' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abash' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abashed' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abashes' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abashing' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abasing' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abate' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abated' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abatement' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abatements' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abater' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abates' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abating' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abba' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbe' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbey' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbeys' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbot' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbots' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abbott' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbreviate' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbreviated' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbreviates' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbreviating' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbreviation' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abbreviations' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abby' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abdomen' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abdomens' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abdominal' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abduct' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abducted' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abduction' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abductions' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abductor' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abductors' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abducts' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abe' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='abed' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abel' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abelian' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abelson' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Aberdeen' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='Abernathy' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='aberrant' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
### INSERT INTO `test`.`t6`
### SET
###   @1='aberration' /* VARSTRING(240) meta=240 nullable=1 is_null=0 */
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
COMMIT
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
DROP TABLE `t3` /* generated by server */
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
DROP TABLE `t6` /* generated by server */
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
DROP TABLE `t4` /* generated by server */
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Anonymous_GTID	last_committed=#	sequence_number=#	rbr_only=no	original_committed_timestamp=#   immediate_commit_timestamp=#	transaction_length=#
# original_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
# immediate_commit_timestamp= MICROSECONDS-FROM-EPOCH (YYYY-MM-DD HOURS:MINUTES:SECONDS TZ)
/*!80001 SET @@session.original_commit_timestamp= MICROSECONDS-FROM-EPOCH*//*!*/;
SET @@SESSION.GTID_NEXT= '#'/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Query	thread_id=#	exec_time=#	error_code=0
SET TIMESTAMP=#/*!*/;
/*!80013 SET @@session.sql_require_primary_key=0*//*!*/;
DROP TABLE `t5` /* generated by server */
/*!*/;
# at #
# # server id #  end_log_pos # CRC32 # 	Rotate to master-bin.000002  pos: 4
SET @@SESSION.GTID_NEXT= '#' /* added by mysqlbinlog */ /*!*/;
DELIMITER ;
# End of log file
/*!50003 SET COMPLETION_TYPE=@OLD_COMPLETION_TYPE*/;
/*!50530 SET @@SESSION.PSEUDO_SLAVE_MODE=0*/;
# Test the Rows_query log event can be applied
# SHOW BINLOG EVENTS ON MASTER after '--exec MYSQL_BINLOG'
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Query	#	#	use `test`; create table t1(a int, b int) engine= myisam
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,1),(2,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# update t1 set a = a + 5 where b = 1 LIMIT 1
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# delete from t1 where a = 6
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	use `test`; create table t2(a int, b int) engine=innodb
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,1),(3,1)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Rows_query	#	#	# update t2 set a = a + 5 where b = 1
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Rows_query	#	#	# delete from t2 where a = 7
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Xid	#	#	COMMIT /* XID */
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,5)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,7)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,5)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,6)
master-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Xid	#	#	COMMIT /* XID */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t1` /* generated by server */
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t2` /* generated by server */
# SHOW BINLOG EVENTS ON 2nd CONNECTION TO MASTE
set @@session.binlog_rows_query_log_events= off;
# Test statements from the 2nd connection have no comment event
# when setting binlog_rows_query_log_events= off
create table t7(a bigint) engine= myisam;
insert into t7(a) values(1),(2);
delete from t7 where a = 1;
set session binlog_format=mixed;
set @@session.binlog_rows_query_log_events= on;
# Test the comment event is sent in mixed mode for special
# functions when setting binlog_rows_query_log_events= on
insert into t7(a) values(UUID_SHORT());
drop table t7;
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Query	#	#	use `test`; create table t7(a bigint) engine= myisam
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Table_map	#	#	table_id: # (test.t7)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Table_map	#	#	table_id: # (test.t7)
master-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Rows_query	#	#	# insert into t7(a) values(UUID_SHORT())
master-bin.000001	#	Table_map	#	#	table_id: # (test.t7)
master-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t7` /* generated by server */
include/start_slave.inc
include/sync_slave_sql_with_master.inc
# Test The Rows_query log event can be relayed.
# SHOW BINLOG EVENTS ON SLAVE
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Query	#	#	use `test`; create table t1(a int, b int) engine= myisam
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,1),(2,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# update t1 set a = a + 5 where b = 1 LIMIT 1
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# delete from t1 where a = 6
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	use `test`; create table t2(a int, b int) engine=innodb
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,1),(3,1)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Rows_query	#	#	# update t2 set a = a + 5 where b = 1
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Update_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Rows_query	#	#	# delete from t2 where a = 7
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# insert into t1(a,b) values(1,7)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t1)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,5)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Rows_query	#	#	# insert into t2(a,b) values(2,6)
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t2)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Xid	#	#	COMMIT /* XID */
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t1` /* generated by server */
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t2` /* generated by server */
slave-bin.000001	#	Query	#	#	use `test`; create table t7(a bigint) engine= myisam
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t7)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t7)
slave-bin.000001	#	Delete_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Rows_query	#	#	# insert into t7(a) values(UUID_SHORT())
slave-bin.000001	#	Table_map	#	#	table_id: # (test.t7)
slave-bin.000001	#	Write_rows	#	#	table_id: # flags: STMT_END_F
slave-bin.000001	#	Query	#	#	COMMIT
slave-bin.000001	#	Query	#	#	use `test`; DROP TABLE `t7` /* generated by server */
include/rpl_end.inc
