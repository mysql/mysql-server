# Bug#29998457 MYSQLDUMP GENERATES INVALID INSERT STATEMENTS WITH VARBINARY COLUMNS
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE = '';
CREATE DATABASE test_bug29998457;
USE test_bug29998457;
#Pre-test cleanup
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (
pk INT,
v1 VARCHAR(255),
v2 VARCHAR(255),
v3 VARCHAR(255),
v4 VARCHAR(128),
v5 VARCHAR(64),
v6 VARCHAR(16),
v7 VARCHAR(16),
v8 VARCHAR(8),
v9 VARBINARY(32),
v10 VARBINARY(32));
SELECT '12345678901234567890123456789012345678901234567890' INTO @s;
SELECT CONCAT(@s, @s, @s, @s, @s) INTO @s1;
INSERT INTO t1 VALUES (1, @s1, @s1, @s1, @s1, @s1, @s1, @s1, @s1, '','NULL');
Warnings:
Warning	1265	Data truncated for column 'v4' at row 1
Warning	1265	Data truncated for column 'v5' at row 1
Warning	1265	Data truncated for column 'v6' at row 1
Warning	1265	Data truncated for column 'v7' at row 1
Warning	1265	Data truncated for column 'v8' at row 1
SELECT * FROM test_bug29998457.t1;
pk	v1	v2	v3	v4	v5	v6	v7	v8	v9	v10
1	1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890	1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890	1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890	12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678	1234567890123456789012345678901234567890123456789012345678901234	1234567890123456	1234567890123456	12345678		NULL
SELECT * FROM test_bug29998457.t1;
pk	v1	v2	v3	v4	v5	v6	v7	v8	v9	v10
1	1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890	1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890	1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890	12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678	1234567890123456789012345678901234567890123456789012345678901234	1234567890123456	1234567890123456	12345678		NULL
DROP DATABASE test_bug29998457;
SET SQL_MODE = @OLD_SQL_MODE;
