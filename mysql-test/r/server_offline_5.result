SET @global_saved_tmp =  @@global.offline_mode;
CREATE USER 'user100'@'localhost';
CREATE USER 'user99'@'localhost';
CREATE USER 'user98'@'localhost';
CREATE USER 'user97'@'localhost';
CREATE USER 'user96'@'localhost';
CREATE USER 'user95'@'localhost';
CREATE USER 'user94'@'localhost';
CREATE USER 'user93'@'localhost';
CREATE USER 'user92'@'localhost';
CREATE USER 'user91'@'localhost';
CREATE USER 'user90'@'localhost';
CREATE USER 'user89'@'localhost';
CREATE USER 'user88'@'localhost';
CREATE USER 'user87'@'localhost';
CREATE USER 'user86'@'localhost';
CREATE USER 'user85'@'localhost';
CREATE USER 'user84'@'localhost';
CREATE USER 'user83'@'localhost';
CREATE USER 'user82'@'localhost';
CREATE USER 'user81'@'localhost';
CREATE USER 'user80'@'localhost';
CREATE USER 'user79'@'localhost';
CREATE USER 'user78'@'localhost';
CREATE USER 'user77'@'localhost';
CREATE USER 'user76'@'localhost';
CREATE USER 'user75'@'localhost';
CREATE USER 'user74'@'localhost';
CREATE USER 'user73'@'localhost';
CREATE USER 'user72'@'localhost';
CREATE USER 'user71'@'localhost';
CREATE USER 'user70'@'localhost';
CREATE USER 'user69'@'localhost';
CREATE USER 'user68'@'localhost';
CREATE USER 'user67'@'localhost';
CREATE USER 'user66'@'localhost';
CREATE USER 'user65'@'localhost';
CREATE USER 'user64'@'localhost';
CREATE USER 'user63'@'localhost';
CREATE USER 'user62'@'localhost';
CREATE USER 'user61'@'localhost';
CREATE USER 'user60'@'localhost';
CREATE USER 'user59'@'localhost';
CREATE USER 'user58'@'localhost';
CREATE USER 'user57'@'localhost';
CREATE USER 'user56'@'localhost';
CREATE USER 'user55'@'localhost';
CREATE USER 'user54'@'localhost';
CREATE USER 'user53'@'localhost';
CREATE USER 'user52'@'localhost';
CREATE USER 'user51'@'localhost';
CREATE USER 'user50'@'localhost';
CREATE USER 'user49'@'localhost';
CREATE USER 'user48'@'localhost';
CREATE USER 'user47'@'localhost';
CREATE USER 'user46'@'localhost';
CREATE USER 'user45'@'localhost';
CREATE USER 'user44'@'localhost';
CREATE USER 'user43'@'localhost';
CREATE USER 'user42'@'localhost';
CREATE USER 'user41'@'localhost';
CREATE USER 'user40'@'localhost';
CREATE USER 'user39'@'localhost';
CREATE USER 'user38'@'localhost';
CREATE USER 'user37'@'localhost';
CREATE USER 'user36'@'localhost';
CREATE USER 'user35'@'localhost';
CREATE USER 'user34'@'localhost';
CREATE USER 'user33'@'localhost';
CREATE USER 'user32'@'localhost';
CREATE USER 'user31'@'localhost';
CREATE USER 'user30'@'localhost';
CREATE USER 'user29'@'localhost';
CREATE USER 'user28'@'localhost';
CREATE USER 'user27'@'localhost';
CREATE USER 'user26'@'localhost';
CREATE USER 'user25'@'localhost';
CREATE USER 'user24'@'localhost';
CREATE USER 'user23'@'localhost';
CREATE USER 'user22'@'localhost';
CREATE USER 'user21'@'localhost';
CREATE USER 'user20'@'localhost';
CREATE USER 'user19'@'localhost';
CREATE USER 'user18'@'localhost';
CREATE USER 'user17'@'localhost';
CREATE USER 'user16'@'localhost';
CREATE USER 'user15'@'localhost';
CREATE USER 'user14'@'localhost';
CREATE USER 'user13'@'localhost';
CREATE USER 'user12'@'localhost';
CREATE USER 'user11'@'localhost';
CREATE USER 'user10'@'localhost';
CREATE USER 'user9'@'localhost';
CREATE USER 'user8'@'localhost';
CREATE USER 'user7'@'localhost';
CREATE USER 'user6'@'localhost';
CREATE USER 'user5'@'localhost';
CREATE USER 'user4'@'localhost';
CREATE USER 'user3'@'localhost';
CREATE USER 'user2'@'localhost';
CREATE USER 'user1'@'localhost';
SELECT COUNT(USER) FROM INFORMATION_SCHEMA.PROCESSLIST;
COUNT(USER)
104
SHOW STATUS LIKE 'threads_connected';
Variable_name	Value
Threads_connected	104
SET GLOBAL offline_mode = ON;
SELECT COUNT(USER) FROM INFORMATION_SCHEMA.PROCESSLIST;
COUNT(USER)
4
SHOW STATUS LIKE 'threads_connected';
Variable_name	Value
Threads_connected	4
SET GLOBAL offline_mode = OFF;
SELECT COUNT(USER) FROM INFORMATION_SCHEMA.PROCESSLIST;
COUNT(USER)
104
SHOW STATUS LIKE 'threads_connected';
Variable_name	Value
Threads_connected	104
SET GLOBAL offline_mode = ON;
SELECT COUNT(USER) FROM INFORMATION_SCHEMA.PROCESSLIST;
COUNT(USER)
4
SHOW STATUS LIKE 'threads_connected';
Variable_name	Value
Threads_connected	4
DROP USER 'user100'@'localhost';
DROP USER 'user99'@'localhost';
DROP USER 'user98'@'localhost';
DROP USER 'user97'@'localhost';
DROP USER 'user96'@'localhost';
DROP USER 'user95'@'localhost';
DROP USER 'user94'@'localhost';
DROP USER 'user93'@'localhost';
DROP USER 'user92'@'localhost';
DROP USER 'user91'@'localhost';
DROP USER 'user90'@'localhost';
DROP USER 'user89'@'localhost';
DROP USER 'user88'@'localhost';
DROP USER 'user87'@'localhost';
DROP USER 'user86'@'localhost';
DROP USER 'user85'@'localhost';
DROP USER 'user84'@'localhost';
DROP USER 'user83'@'localhost';
DROP USER 'user82'@'localhost';
DROP USER 'user81'@'localhost';
DROP USER 'user80'@'localhost';
DROP USER 'user79'@'localhost';
DROP USER 'user78'@'localhost';
DROP USER 'user77'@'localhost';
DROP USER 'user76'@'localhost';
DROP USER 'user75'@'localhost';
DROP USER 'user74'@'localhost';
DROP USER 'user73'@'localhost';
DROP USER 'user72'@'localhost';
DROP USER 'user71'@'localhost';
DROP USER 'user70'@'localhost';
DROP USER 'user69'@'localhost';
DROP USER 'user68'@'localhost';
DROP USER 'user67'@'localhost';
DROP USER 'user66'@'localhost';
DROP USER 'user65'@'localhost';
DROP USER 'user64'@'localhost';
DROP USER 'user63'@'localhost';
DROP USER 'user62'@'localhost';
DROP USER 'user61'@'localhost';
DROP USER 'user60'@'localhost';
DROP USER 'user59'@'localhost';
DROP USER 'user58'@'localhost';
DROP USER 'user57'@'localhost';
DROP USER 'user56'@'localhost';
DROP USER 'user55'@'localhost';
DROP USER 'user54'@'localhost';
DROP USER 'user53'@'localhost';
DROP USER 'user52'@'localhost';
DROP USER 'user51'@'localhost';
DROP USER 'user50'@'localhost';
DROP USER 'user49'@'localhost';
DROP USER 'user48'@'localhost';
DROP USER 'user47'@'localhost';
DROP USER 'user46'@'localhost';
DROP USER 'user45'@'localhost';
DROP USER 'user44'@'localhost';
DROP USER 'user43'@'localhost';
DROP USER 'user42'@'localhost';
DROP USER 'user41'@'localhost';
DROP USER 'user40'@'localhost';
DROP USER 'user39'@'localhost';
DROP USER 'user38'@'localhost';
DROP USER 'user37'@'localhost';
DROP USER 'user36'@'localhost';
DROP USER 'user35'@'localhost';
DROP USER 'user34'@'localhost';
DROP USER 'user33'@'localhost';
DROP USER 'user32'@'localhost';
DROP USER 'user31'@'localhost';
DROP USER 'user30'@'localhost';
DROP USER 'user29'@'localhost';
DROP USER 'user28'@'localhost';
DROP USER 'user27'@'localhost';
DROP USER 'user26'@'localhost';
DROP USER 'user25'@'localhost';
DROP USER 'user24'@'localhost';
DROP USER 'user23'@'localhost';
DROP USER 'user22'@'localhost';
DROP USER 'user21'@'localhost';
DROP USER 'user20'@'localhost';
DROP USER 'user19'@'localhost';
DROP USER 'user18'@'localhost';
DROP USER 'user17'@'localhost';
DROP USER 'user16'@'localhost';
DROP USER 'user15'@'localhost';
DROP USER 'user14'@'localhost';
DROP USER 'user13'@'localhost';
DROP USER 'user12'@'localhost';
DROP USER 'user11'@'localhost';
DROP USER 'user10'@'localhost';
DROP USER 'user9'@'localhost';
DROP USER 'user8'@'localhost';
DROP USER 'user7'@'localhost';
DROP USER 'user6'@'localhost';
DROP USER 'user5'@'localhost';
DROP USER 'user4'@'localhost';
DROP USER 'user3'@'localhost';
DROP USER 'user2'@'localhost';
DROP USER 'user1'@'localhost';
# Restoring the original values.
SET @@global.offline_mode = @global_saved_tmp;
