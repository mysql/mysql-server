DROP TABLE IF EXISTS t1, `t``1`, `t 1`;
drop view if exists v1;
drop database if exists client_test_db;
mtr.asserted_test_suppressions                     OK
mtr.global_suppressions                            OK
mtr.test_ignored_global_suppressions               OK
mtr.test_suppressions                              OK
mysql.columns_priv                                 OK
mysql.component                                    OK
mysql.db                                           OK
mysql.default_roles                                OK
mysql.engine_cost                                  OK
mysql.func                                         OK
mysql.general_log
note     : The storage engine for the table doesn't support analyze
mysql.global_grants                                OK
mysql.gtid_executed                                OK
mysql.help_category                                OK
mysql.help_keyword                                 OK
mysql.help_relation                                OK
mysql.help_topic                                   OK
mysql.innodb_index_stats                           OK
mysql.innodb_table_stats                           OK
mysql.password_history                             OK
mysql.plugin                                       OK
mysql.procs_priv                                   OK
mysql.proxies_priv                                 OK
mysql.replication_asynchronous_connection_failover OK
mysql.replication_asynchronous_connection_failover_managed OK
mysql.replication_group_configuration_version      OK
mysql.replication_group_member_actions             OK
mysql.role_edges                                   OK
mysql.server_cost                                  OK
mysql.servers                                      OK
mysql.slave_master_info                            OK
mysql.slave_relay_log_info                         OK
mysql.slave_worker_info                            OK
mysql.slow_log
note     : The storage engine for the table doesn't support analyze
mysql.tables_priv                                  OK
mysql.time_zone                                    OK
mysql.time_zone_leap_second                        OK
mysql.time_zone_name                               OK
mysql.time_zone_transition                         OK
mysql.time_zone_transition_type                    OK
mysql.user                                         OK
sys.sys_config                                     OK
mtr.asserted_test_suppressions
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mtr.global_suppressions
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mtr.test_ignored_global_suppressions
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mtr.test_suppressions
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.columns_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.component
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.db
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.default_roles
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.engine_cost
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.func
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.general_log
note     : The storage engine for the table doesn't support optimize
mysql.global_grants
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.gtid_executed
Warning  : Please do not modify the gtid_executed table. This is a mysql internal system table to store GTIDs for committed transactions. Modifying it can lead to an inconsistent GTID state.
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_category
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_keyword
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_relation
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_topic
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.innodb_index_stats
note     : Table does not support optimize, doing recreate + analyze instead
error    : The used command is not allowed with this MySQL version
status   : Operation failed
mysql.innodb_table_stats
note     : Table does not support optimize, doing recreate + analyze instead
error    : The used command is not allowed with this MySQL version
status   : Operation failed
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.password_history
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.plugin
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.procs_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.proxies_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_asynchronous_connection_failover
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_asynchronous_connection_failover_managed
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_group_configuration_version
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_group_member_actions
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.role_edges
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.server_cost
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.servers
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slave_master_info
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slave_relay_log_info
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slave_worker_info
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slow_log
note     : The storage engine for the table doesn't support optimize
mysql.tables_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_leap_second
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_name
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_transition
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_transition_type
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.user
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
sys.sys_config
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.columns_priv                                 OK
mysql.component                                    OK
mysql.db                                           OK
mysql.default_roles                                OK
mysql.engine_cost                                  OK
mysql.func                                         OK
mysql.general_log
note     : The storage engine for the table doesn't support analyze
mysql.global_grants                                OK
mysql.gtid_executed                                OK
mysql.help_category                                OK
mysql.help_keyword                                 OK
mysql.help_relation                                OK
mysql.help_topic                                   OK
mysql.innodb_index_stats                           OK
mysql.innodb_table_stats                           OK
mysql.password_history                             OK
mysql.plugin                                       OK
mysql.procs_priv                                   OK
mysql.proxies_priv                                 OK
mysql.replication_asynchronous_connection_failover OK
mysql.replication_asynchronous_connection_failover_managed OK
mysql.replication_group_configuration_version      OK
mysql.replication_group_member_actions             OK
mysql.role_edges                                   OK
mysql.server_cost                                  OK
mysql.servers                                      OK
mysql.slave_master_info                            OK
mysql.slave_relay_log_info                         OK
mysql.slave_worker_info                            OK
mysql.slow_log
note     : The storage engine for the table doesn't support analyze
mysql.tables_priv                                  OK
mysql.time_zone                                    OK
mysql.time_zone_leap_second                        OK
mysql.time_zone_name                               OK
mysql.time_zone_transition                         OK
mysql.time_zone_transition_type                    OK
mysql.user                                         OK
mysql.columns_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.component
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.db
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.default_roles
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.engine_cost
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.func
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.general_log
note     : The storage engine for the table doesn't support optimize
mysql.global_grants
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.gtid_executed
Warning  : Please do not modify the gtid_executed table. This is a mysql internal system table to store GTIDs for committed transactions. Modifying it can lead to an inconsistent GTID state.
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_category
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_keyword
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_relation
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.help_topic
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.innodb_index_stats
note     : Table does not support optimize, doing recreate + analyze instead
error    : The used command is not allowed with this MySQL version
status   : Operation failed
mysql.innodb_table_stats
note     : Table does not support optimize, doing recreate + analyze instead
error    : The used command is not allowed with this MySQL version
status   : Operation failed
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.password_history
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.plugin
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.procs_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.proxies_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_asynchronous_connection_failover
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_asynchronous_connection_failover_managed
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_group_configuration_version
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.replication_group_member_actions
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.role_edges
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.server_cost
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.servers
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slave_master_info
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slave_relay_log_info
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slave_worker_info
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.slow_log
note     : The storage engine for the table doesn't support optimize
mysql.tables_priv
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_leap_second
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_name
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_transition
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.time_zone_transition_type
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
mysql.user
note     : Table does not support optimize, doing recreate + analyze instead
status   : OK
create view v1 as select * from information_schema.routines;
check table v1, information_schema.routines;
Table	Op	Msg_type	Msg_text
test.v1	check	status	OK
information_schema.ROUTINES	check	status	OK
drop view v1;
End of 5.0 tests
End of 5.1 tests
#
# Bug #35269: mysqlcheck behaves different depending on order of parameters
#
#
# Bug#12688860 : SECURITY RECOMMENDATION: PASSWORDS ON CLI
#
DROP DATABASE IF EXISTS b12688860_db;
CREATE DATABASE b12688860_db;
mysqlcheck: [Warning] Using a password on the command line interface can be insecure.
DROP DATABASE b12688860_db;
#
# WL#2284: Increase the length of a user name
#
CREATE USER 'user_with_length_32_abcdefghijkl'@'localhost';
GRANT ALL ON *.* TO 'user_with_length_32_abcdefghijkl'@'localhost';
mysql.user                                         OK
DROP USER 'user_with_length_32_abcdefghijkl'@'localhost';
#
# WL#13292: Deprecate legacy connection compression parameters
#
# exec mysqlcheck --compress: must have a deprecation warning
WARNING: --compress is deprecated and will be removed in a future version. Use --compression-algorithms instead.
# exec mysqlcheck --compression-algorithms: must not have a deprecation warning

End of tests
