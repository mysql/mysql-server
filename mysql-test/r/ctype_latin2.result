drop table if exists t1;
SET NAMES latin2;
CREATE TABLE t1 (a char(1) character set latin2);
INSERT INTO t1 VALUES (0x20),(0x21),(0x22),(0x23),(0x24),(0x25),(0x26),(0x27);
INSERT INTO t1 VALUES (0x28),(0x29),(0x2A),(0x2B),(0x2C),(0x2D),(0x2E),(0x2F);
INSERT INTO t1 VALUES (0x30),(0x31),(0x32),(0x33),(0x34),(0x35),(0x36),(0x37);
INSERT INTO t1 VALUES (0x38),(0x39),(0x3A),(0x3B),(0x3C),(0x3D),(0x3E),(0x3F);
INSERT INTO t1 VALUES (0x40),(0x41),(0x42),(0x43),(0x44),(0x45),(0x46),(0x47);
INSERT INTO t1 VALUES (0x48),(0x49),(0x4A),(0x4B),(0x4C),(0x4D),(0x4E),(0x4F);
INSERT INTO t1 VALUES (0x50),(0x51),(0x52),(0x53),(0x54),(0x55),(0x56),(0x57);
INSERT INTO t1 VALUES (0x58),(0x59),(0x5A),(0x5B),(0x5C),(0x5D),(0x5E),(0x5F);
INSERT INTO t1 VALUES (0x60),(0x61),(0x62),(0x63),(0x64),(0x65),(0x66),(0x67);
INSERT INTO t1 VALUES (0x68),(0x69),(0x6A),(0x6B),(0x6C),(0x6D),(0x6E),(0x6F);
INSERT INTO t1 VALUES (0x70),(0x71),(0x72),(0x73),(0x74),(0x75),(0x76),(0x77);
INSERT INTO t1 VALUES (0x78),(0x79),(0x7A),(0x7B),(0x7C),(0x7D),(0x7E),(0x7F);
INSERT INTO t1 VALUES (0x80),(0x81),(0x82),(0x83),(0x84),(0x85),(0x86),(0x87);
INSERT INTO t1 VALUES (0x88),(0x89),(0x8A),(0x8B),(0x8C),(0x8D),(0x8E),(0x8F);
INSERT INTO t1 VALUES (0x90),(0x91),(0x92),(0x93),(0x94),(0x95),(0x96),(0x97);
INSERT INTO t1 VALUES (0x98),(0x99),(0x9A),(0x9B),(0x9C),(0x9D),(0x9E),(0x9F);
INSERT INTO t1 VALUES (0xA0),(0xA1),(0xA2),(0xA3),(0xA4),(0xA5),(0xA6),(0xA7);
INSERT INTO t1 VALUES (0xA8),(0xA9),(0xAA),(0xAB),(0xAC),(0xAD),(0xAE),(0xAF);
INSERT INTO t1 VALUES (0xB0),(0xB1),(0xB2),(0xB3),(0xB4),(0xB5),(0xB6),(0xB7);
INSERT INTO t1 VALUES (0xB8),(0xB9),(0xBA),(0xBB),(0xBC),(0xBD),(0xBE),(0xBF);
INSERT INTO t1 VALUES (0xC0),(0xC1),(0xC2),(0xC3),(0xC4),(0xC5),(0xC6),(0xC7);
INSERT INTO t1 VALUES (0xC8),(0xC9),(0xCA),(0xCB),(0xCC),(0xCD),(0xCE),(0xCF);
INSERT INTO t1 VALUES (0xD0),(0xD1),(0xD2),(0xD3),(0xD4),(0xD5),(0xD6),(0xD7);
INSERT INTO t1 VALUES (0xD8),(0xD9),(0xDA),(0xDB),(0xDC),(0xDD),(0xDE),(0xDF);
INSERT INTO t1 VALUES (0xE0),(0xE1),(0xE2),(0xE3),(0xE4),(0xE5),(0xE6),(0xE7);
INSERT INTO t1 VALUES (0xE8),(0xE9),(0xEA),(0xEB),(0xEC),(0xED),(0xEE),(0xEF);
INSERT INTO t1 VALUES (0xF0),(0xF1),(0xF2),(0xF3),(0xF4),(0xF5),(0xF6),(0xF7);
INSERT INTO t1 VALUES (0xF8),(0xF9),(0xFA),(0xFB),(0xFC),(0xFD),(0xFE),(0xFF);
SELECT hex(a) ha, hex(lower(a)) hl, hex(upper(a)) hu
from t1 order by ha;
ha	hl	hu
		
21	21	21
22	22	22
23	23	23
24	24	24
25	25	25
26	26	26
27	27	27
28	28	28
29	29	29
2A	2A	2A
2B	2B	2B
2C	2C	2C
2D	2D	2D
2E	2E	2E
2F	2F	2F
30	30	30
31	31	31
32	32	32
33	33	33
34	34	34
35	35	35
36	36	36
37	37	37
38	38	38
39	39	39
3A	3A	3A
3B	3B	3B
3C	3C	3C
3D	3D	3D
3E	3E	3E
3F	3F	3F
40	40	40
41	61	41
42	62	42
43	63	43
44	64	44
45	65	45
46	66	46
47	67	47
48	68	48
49	69	49
4A	6A	4A
4B	6B	4B
4C	6C	4C
4D	6D	4D
4E	6E	4E
4F	6F	4F
50	70	50
51	71	51
52	72	52
53	73	53
54	74	54
55	75	55
56	76	56
57	77	57
58	78	58
59	79	59
5A	7A	5A
5B	5B	5B
5C	5C	5C
5D	5D	5D
5E	5E	5E
5F	5F	5F
60	60	60
61	61	41
62	62	42
63	63	43
64	64	44
65	65	45
66	66	46
67	67	47
68	68	48
69	69	49
6A	6A	4A
6B	6B	4B
6C	6C	4C
6D	6D	4D
6E	6E	4E
6F	6F	4F
70	70	50
71	71	51
72	72	52
73	73	53
74	74	54
75	75	55
76	76	56
77	77	57
78	78	58
79	79	59
7A	7A	5A
7B	7B	7B
7C	7C	7C
7D	7D	7D
7E	7E	7E
7F	7F	7F
80	80	80
81	81	81
82	82	82
83	83	83
84	84	84
85	85	85
86	86	86
87	87	87
88	88	88
89	89	89
8A	8A	8A
8B	8B	8B
8C	8C	8C
8D	8D	8D
8E	8E	8E
8F	8F	8F
90	90	90
91	91	91
92	92	92
93	93	93
94	94	94
95	95	95
96	96	96
97	97	97
98	98	98
99	99	99
9A	9A	9A
9B	9B	9B
9C	9C	9C
9D	9D	9D
9E	9E	9E
9F	9F	9F
A0	A0	A0
A1	B1	A1
A2	A2	A2
A3	B3	A3
A4	A4	A4
A5	B5	A5
A6	B6	A6
A7	A7	A7
A8	A8	A8
A9	B9	A9
AA	BA	AA
AB	BB	AB
AC	BC	AC
AD	AD	AD
AE	BE	AE
AF	BF	AF
B0	B0	B0
B1	B1	A1
B2	B2	B2
B3	B3	A3
B4	B4	B4
B5	B5	A5
B6	B6	A6
B7	B7	B7
B8	B8	B8
B9	B9	A9
BA	BA	AA
BB	BB	AB
BC	BC	AC
BD	BD	BD
BE	BE	AE
BF	BF	AF
C0	E0	C0
C1	E1	C1
C2	E2	C2
C3	E3	C3
C4	E4	C4
C5	E5	C5
C6	E6	C6
C7	E7	C7
C8	E8	C8
C9	E9	C9
CA	EA	CA
CB	EB	CB
CC	EC	CC
CD	ED	CD
CE	EE	CE
CF	EF	CF
D0	F0	D0
D1	F1	D1
D2	F2	D2
D3	F3	D3
D4	F4	D4
D5	F5	D5
D6	F6	D6
D7	D7	D7
D8	F8	D8
D9	F9	D9
DA	FA	DA
DB	FB	DB
DC	FC	DC
DD	FD	DD
DE	FE	DE
DF	DF	DF
E0	E0	C0
E1	E1	C1
E2	E2	C2
E3	E3	C3
E4	E4	C4
E5	E5	C5
E6	E6	C6
E7	E7	C7
E8	E8	C8
E9	E9	C9
EA	EA	CA
EB	EB	CB
EC	EC	CC
ED	ED	CD
EE	EE	CE
EF	EF	CF
F0	F0	D0
F1	F1	D1
F2	F2	D2
F3	F3	D3
F4	F4	D4
F5	F5	D5
F6	F6	D6
F7	F7	F7
F8	F8	D8
F9	F9	D9
FA	FA	DA
FB	FB	DB
FC	FC	DC
FD	FD	DD
FE	FE	DE
FF	FF	FF
SELECT HEX(group_concat(a collate latin2_croatian_ci order by binary a)) from t1 group by a collate latin2_croatian_ci;
HEX(group_concat(a collate latin2_croatian_ci order by binary a))

21
22
23
24
25
26
27
28
29
2A
2B
2C
2D
2E
2F
30
31
32
33
34
35
36
37
38
39
3A
3B
3C
3D
3E
3F
40
412C612CA12CB12CC12CC22CC32CC42CE12CE22CE32CE4
422C62
432C632CC72CE7
C82CE8
C62CE6
442C642CCF2CEF
D02CF0
452C652CC92CCA2CCB2CCC2CE92CEA2CEB2CEC
462C66
472C67
482C68
492C692CCD2CCE2CED2CEE
4A2C6A
4B2C6B
4C2C6C2CA32CA52CB32CB52CC52CE5
4D2C6D
4E2C6E2CD12CD22CF12CF2
4F2C6F2CD32CD42CD52CD62CF32CF42CF52CF6
502C70
512C71
522C722CC02CD82CE02CF8
532C732CA62CAA2CB62CBA2CDF
A92CB9
542C742CAB2CBB2CDE2CFE
552C752CD92CDA2CDB2CDC2CF92CFA2CFB2CFC
562C76
572C77
582C78
592C792CDD2CFD
5A2C7A2CAC2CAF2CBC2CBF
AE2CBE
5B
5C
5D
5E
5F
60
7B
7C
7D
7E
7F
80
81
82
83
84
85
86
87
88
89
8A
8B
8C
8D
8E
8F
90
91
92
93
94
95
96
97
98
99
9A
9B
9C
9D
9E
9F
A0
A2
A4
A7
A8
AD
B0
B2
B4
B7
B8
BD
D7
F7
FF
Warnings:
Warning	1287	'BINARY expr' is deprecated and will be removed in a future release. Please use CAST instead
drop table t1;
End of 5.1 tests
#
# Start of 5.6 tests
#
#
# WL#3664 WEIGHT_STRING
#
set names latin2;
select @@collation_connection;
@@collation_connection
latin2_general_ci
select hex(weight_string('a'));
hex(weight_string('a'))
41
select hex(weight_string('A'));
hex(weight_string('A'))
41
select hex(weight_string('abc'));
hex(weight_string('abc'))
414445
select hex(weight_string('abc' as char(2)));
hex(weight_string('abc' as char(2)))
4144
select hex(weight_string('abc' as char(3)));
hex(weight_string('abc' as char(3)))
414445
select hex(weight_string('abc' as char(5)));
hex(weight_string('abc' as char(5)))
4144452020
select hex(weight_string('abc', 1, 2, 0xC0));
hex(weight_string('abc', 1, 2, 0xC0))
41
select hex(weight_string('abc', 2, 2, 0xC0));
hex(weight_string('abc', 2, 2, 0xC0))
4144
select hex(weight_string('abc', 3, 2, 0xC0));
hex(weight_string('abc', 3, 2, 0xC0))
414420
select hex(weight_string('abc', 4, 2, 0xC0));
hex(weight_string('abc', 4, 2, 0xC0))
41442020
select hex(weight_string('abc', 5, 2, 0xC0));
hex(weight_string('abc', 5, 2, 0xC0))
4144202020
select hex(weight_string('abc',25, 2, 0xC0));
hex(weight_string('abc',25, 2, 0xC0))
41442020202020202020202020202020202020202020202020
select hex(weight_string('abc', 1, 3, 0xC0));
hex(weight_string('abc', 1, 3, 0xC0))
41
select hex(weight_string('abc', 2, 3, 0xC0));
hex(weight_string('abc', 2, 3, 0xC0))
4144
select hex(weight_string('abc', 3, 3, 0xC0));
hex(weight_string('abc', 3, 3, 0xC0))
414445
select hex(weight_string('abc', 4, 3, 0xC0));
hex(weight_string('abc', 4, 3, 0xC0))
41444520
select hex(weight_string('abc', 5, 3, 0xC0));
hex(weight_string('abc', 5, 3, 0xC0))
4144452020
select hex(weight_string('abc',25, 3, 0xC0));
hex(weight_string('abc',25, 3, 0xC0))
41444520202020202020202020202020202020202020202020
select hex(weight_string('abc', 1, 4, 0xC0));
hex(weight_string('abc', 1, 4, 0xC0))
41
select hex(weight_string('abc', 2, 4, 0xC0));
hex(weight_string('abc', 2, 4, 0xC0))
4144
select hex(weight_string('abc', 3, 4, 0xC0));
hex(weight_string('abc', 3, 4, 0xC0))
414445
select hex(weight_string('abc', 4, 4, 0xC0));
hex(weight_string('abc', 4, 4, 0xC0))
41444520
select hex(weight_string('abc', 5, 4, 0xC0));
hex(weight_string('abc', 5, 4, 0xC0))
4144452020
select hex(weight_string('abc',25, 4, 0xC0));
hex(weight_string('abc',25, 4, 0xC0))
41444520202020202020202020202020202020202020202020
set collation_connection=latin2_bin;
select @@collation_connection;
@@collation_connection
latin2_bin
select hex(weight_string('a'));
hex(weight_string('a'))
61
select hex(weight_string('A'));
hex(weight_string('A'))
41
select hex(weight_string('abc'));
hex(weight_string('abc'))
616263
select hex(weight_string('abc' as char(2)));
hex(weight_string('abc' as char(2)))
6162
select hex(weight_string('abc' as char(3)));
hex(weight_string('abc' as char(3)))
616263
select hex(weight_string('abc' as char(5)));
hex(weight_string('abc' as char(5)))
6162632020
select hex(weight_string('abc', 1, 2, 0xC0));
hex(weight_string('abc', 1, 2, 0xC0))
61
select hex(weight_string('abc', 2, 2, 0xC0));
hex(weight_string('abc', 2, 2, 0xC0))
6162
select hex(weight_string('abc', 3, 2, 0xC0));
hex(weight_string('abc', 3, 2, 0xC0))
616220
select hex(weight_string('abc', 4, 2, 0xC0));
hex(weight_string('abc', 4, 2, 0xC0))
61622020
select hex(weight_string('abc', 5, 2, 0xC0));
hex(weight_string('abc', 5, 2, 0xC0))
6162202020
select hex(weight_string('abc',25, 2, 0xC0));
hex(weight_string('abc',25, 2, 0xC0))
61622020202020202020202020202020202020202020202020
select hex(weight_string('abc', 1, 3, 0xC0));
hex(weight_string('abc', 1, 3, 0xC0))
61
select hex(weight_string('abc', 2, 3, 0xC0));
hex(weight_string('abc', 2, 3, 0xC0))
6162
select hex(weight_string('abc', 3, 3, 0xC0));
hex(weight_string('abc', 3, 3, 0xC0))
616263
select hex(weight_string('abc', 4, 3, 0xC0));
hex(weight_string('abc', 4, 3, 0xC0))
61626320
select hex(weight_string('abc', 5, 3, 0xC0));
hex(weight_string('abc', 5, 3, 0xC0))
6162632020
select hex(weight_string('abc',25, 3, 0xC0));
hex(weight_string('abc',25, 3, 0xC0))
61626320202020202020202020202020202020202020202020
select hex(weight_string('abc', 1, 4, 0xC0));
hex(weight_string('abc', 1, 4, 0xC0))
61
select hex(weight_string('abc', 2, 4, 0xC0));
hex(weight_string('abc', 2, 4, 0xC0))
6162
select hex(weight_string('abc', 3, 4, 0xC0));
hex(weight_string('abc', 3, 4, 0xC0))
616263
select hex(weight_string('abc', 4, 4, 0xC0));
hex(weight_string('abc', 4, 4, 0xC0))
61626320
select hex(weight_string('abc', 5, 4, 0xC0));
hex(weight_string('abc', 5, 4, 0xC0))
6162632020
select hex(weight_string('abc',25, 4, 0xC0));
hex(weight_string('abc',25, 4, 0xC0))
61626320202020202020202020202020202020202020202020
#
# Bugs#12635232: VALGRIND WARNINGS: IS_IPV6, IS_IPV4, INET6_ATON,
# INET6_NTOA + MULTIBYTE CHARSET.
#
SET NAMES latin2;
SELECT is_ipv4(inet_ntoa('1'));
is_ipv4(inet_ntoa('1'))
1
SELECT is_ipv6(inet_ntoa('1'));
is_ipv6(inet_ntoa('1'))
0
SELECT HEX(inet6_aton(inet_ntoa('1')));
HEX(inet6_aton(inet_ntoa('1')))
00000001
SELECT inet6_ntoa(inet_ntoa('1'));
inet6_ntoa(inet_ntoa('1'))
NULL
#
# Bug#14040277 UNINITIALIZED VALUE REFERENCED IN STR_TO_IPV6
#
SELECT inet6_aton(soundex('a'));
inet6_aton(soundex('a'))
NULL
#
# Bug#19047425 UNINITIALISED VALUE IN STR_TO_IPV6
#
do is_ipv4_mapped(inet6_aton(convert(_ascii "a:" using latin2)));
#
# End of 5.6 tests
#
