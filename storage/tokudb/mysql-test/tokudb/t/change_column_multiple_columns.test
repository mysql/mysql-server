source include/have_tokudb.inc;
# this test generated by change_multiple_columns.py
# this test generated multiple column changes which should all fail since we support only one at a time
--disable_warnings
DROP TABLE IF EXISTS t;
--enable_warnings
SET SESSION TOKUDB_DISABLE_SLOW_ALTER=1;
SET SESSION DEFAULT_STORAGE_ENGINE='TokuDB';
CREATE TABLE t (a VARCHAR(1),b VARBINARY(1),c INT,d CHAR(1),e BINARY(1));
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN c c BIGINT;
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT;
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN c c BIGINT,CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT;
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN a a VARCHAR(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
--replace_regex /MariaDB/XYZ/ /MySQL/XYZ/
--error ER_UNSUPPORTED_EXTENSION
ALTER TABLE t CHANGE COLUMN b b VARBINARY(2),CHANGE COLUMN c c BIGINT,CHANGE COLUMN d d CHAR(2),CHANGE COLUMN e e BINARY(2);
DROP TABLE t;
