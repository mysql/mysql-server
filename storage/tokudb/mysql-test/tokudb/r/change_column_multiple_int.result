DROP TABLE IF EXISTS t;
SET SESSION DEFAULT_STORAGE_ENGINE="TokuDB";
CREATE TABLE t (a INT PRIMARY KEY, b INT, c INT, d INT);
INSERT INTO t VALUES (1,2,3,4),(2,3,4,5);
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
SET SESSION TOKUDB_DISABLE_SLOW_ALTER=1;
ALTER TABLE t CHANGE COLUMN b b BIGINT;
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
ALTER TABLE t CHANGE COLUMN c c BIGINT;
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
ALTER TABLE t CHANGE COLUMN d d BIGINT;
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
DROP TABLE t;
CREATE TABLE t (a INT PRIMARY KEY, b INT, c INT, d INT, CLUSTERING KEY(c));
INSERT INTO t VALUES (1,2,3,4),(2,3,4,5);
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
SET SESSION TOKUDB_DISABLE_SLOW_ALTER=1;
ALTER TABLE t CHANGE COLUMN b b BIGINT;
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
ALTER TABLE t CHANGE COLUMN d d BIGINT;
SELECT * FROM t;
a	b	c	d
1	2	3	4
2	3	4	5
DROP TABLE t;
