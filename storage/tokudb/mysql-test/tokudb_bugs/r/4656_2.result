SET DEFAULT_STORAGE_ENGINE='tokudb';
DROP TABLE IF EXISTS t2;
CREATE TABLE `t2` (
`c1` int(11) NOT NULL,
`c2` int(10) unsigned DEFAULT NULL,
`c3` int(11) DEFAULT NULL,
KEY `c2` (`c2`),
KEY `c1` (`c1`)
);
INSERT INTO t2 (c1,c2,c3) VALUES (2147483647,	4294967295,	14),(0,	2147483648,	15);
SELECT * FROM t2;
c1	c2	c3
2147483647	4294967295	14
0	2147483648	15
UPDATE t2 SET c1=-2147483648 WHERE c2 >= 0 ORDER BY c2 DESC LIMIT 2;
SELECT * FROM t2;
c1	c2	c3
-2147483648	4294967295	14
-2147483648	2147483648	15
TRUNCATE TABLE t2;
INSERT INTO t2 (c1,c2,c3) VALUES (2147483647,	4294967295,	14),(0,	2147483648,	15);
UPDATE t2 SET c1=-2147483648 WHERE c2 >= 0 ORDER BY c2 DESC;
SELECT * FROM t2;
c1	c2	c3
-2147483648	4294967295	14
-2147483648	2147483648	15
TRUNCATE TABLE t2;
INSERT INTO t2 (c1,c2,c3) VALUES (2147483647,	4294967295,	14),(0,	2147483648,	15);
UPDATE t2 SET c1=-2147483648 WHERE c2 >= 0 ORDER BY c2;
SELECT * FROM t2;
c1	c2	c3
-2147483648	4294967295	14
-2147483648	2147483648	15
TRUNCATE TABLE t2;
INSERT INTO t2 (c1,c2,c3) VALUES (2147483647,	4294967295,	14),(0,	2147483648,	15);
UPDATE t2 SET c1=-2147483648 WHERE c2 >= 0;
SELECT * FROM t2;
c1	c2	c3
-2147483648	4294967295	14
-2147483648	2147483648	15
DROP TABLE t2;
